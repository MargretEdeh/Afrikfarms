exports.id=917,exports.ids=[917],exports.modules={1255:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},12057:(a,b,c)=>{"use strict";c.d(b,{_:()=>e});var d=c(55108);let e={getDashboard:async()=>(await d.A.get("/lga/dashboard")).data,createFarmer:async a=>(await d.A.post("/lga/create-farmer",a)).data,getFarmers:async()=>(await d.A.get("/lga/farmers")).data,getFarmerById:async a=>(await d.A.get(`/lga/farmers/${a}`)).data,sendCode:async a=>(await d.A.post("/lga/send-code",a)).data,verifyCode:async a=>(await d.A.post("/lga/verify-code",a)).data,verifyNin:async a=>(await d.A.post("/lga/verify-nin",a)).data,uploadProfileImage:async(a,b)=>(await d.A.post("/lga/upload-profile-image",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:b})).data,UploadProofOfAddress:async(a,b)=>(await d.A.post("/lga/upload-proof-of-address",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:b})).data,getBanks:async()=>(await d.A.get("/banks")).data,getAccountName:async a=>(await d.A.get("/get-account-name",{params:{bank_code:a.bankCode,account_number:a.accountNumber}})).data,updateFarmer:async(a,b)=>(await d.A.put(`/lga/farmers/${a}`,b)).data,deleteFarmer:async a=>(await d.A.delete(`/lga/farmers/${a}`)).data,getFarms:async()=>(await d.A.get("/lga/farms")).data,createFarm:async a=>(await d.A.post("/lga/create-farm",a)).data,deleteFarm:async a=>(await d.A.delete(`/lga/delete-farm?farm_id=${a}`)).data,updateFarm:async(a,b)=>(await d.A.put(`/lga/update-farm?farm_id=${a}`,b)).data,getFarmById:async a=>(await d.A.get(`/lga/get-farm?farm_id=${a}`)).data,getFarmersFarms:async a=>(await d.A.get(`/lga/farmers-farms?farmer_id=${a}`)).data,initializePayment:async a=>{console.log("=== PAYMENT INITIALIZATION DEBUG ==="),console.log("1. Data received by service:",a),console.log("2. Data stringified:",JSON.stringify(a));try{let b=await d.A.post("/lga/initialize-payment",a);return console.log("3. Full response received:",b),console.log("4. Response data:",b.data),b.data}catch(a){throw console.error("4. Error caught in service:",a),console.error("5. Error response data:",a.response?.data),console.error("6. Error request data:",a.config?.data),a}},verifyPayment:async(a,b)=>(await d.A.get(`/lga/verify-payment?trxref=${a}&reference=${b}`)).data}},12622:(a,b,c)=>{"use strict";c.d(b,{A:()=>m,AuthProvider:()=>l});var d=c(21124),e=c(38301),f=c(42378),g=c(16585),h=c(96610);function i(a,b,c=7){let d=new Date(Date.now()+864e5*c).toUTCString();document.cookie=`${a}=${encodeURIComponent(b)}; expires=${d}; path=/; SameSite=Strict`}function j(a){document.cookie=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`}let k=(0,e.createContext)(void 0),l=({children:a})=>{let[b,c]=(0,e.useState)(null),[l,m]=(0,e.useState)(!0),n=(0,h.jE)(),o=(0,f.useRouter)();(0,e.useEffect)(()=>{let a=localStorage.getItem("user"),b=function(a){let b=`; ${document.cookie}`.split(`; ${a}=`);return 2===b.length?decodeURIComponent(b.pop()?.split(";").shift()||""):null}("token");a&&b&&c(JSON.parse(a)),m(!1)},[]);let p=async(a,b,d)=>{let e="admin"===d?await g.u.loginAdmin(a,b):await g.u.loginUser(a,b);console.log("Raw login response:",e);let f=e.user||e.admin,h={...f,token:e.token};c(h),localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(h)),i("token",e.token,7);let j=f?.role;switch(console.log("User role for routing:",j),i("role",j,7),j){case"lga_admin":default:o.push("/dashboard");break;case"super_admin":o.push("/admin/dashboard");break;case"state_admin":o.push("/state/dashboard")}},q=async a=>{let b=await g.u.registerSuperAdmin(a),d={...b.admin||b.newAdmin,token:b.token};c(d),localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify(d)),i("token",b.token,7),o.push("/admin/dashboard")},r=async a=>{await g.u.createUser(a)},s=async()=>{try{await g.u.logout()}catch(a){console.error("Error during server logout:",a)}try{localStorage.clear()}catch(a){console.error("Error clearing localStorage:",a),localStorage.removeItem("token"),localStorage.removeItem("user")}try{!function(){for(let a of document.cookie.split(";")){let b=a.indexOf("="),c=b>-1?a.substr(0,b).trim():a.trim();c&&(document.cookie=`${c}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`)}}()}catch(a){console.error("Error clearing cookies:",a),j("token"),j("role")}n.clear(),c(null);try{o.push("/login")}catch(a){window.location.href="/login"}};return(0,d.jsx)(k.Provider,{value:{user:b,loading:l,login:p,logout:s,registerSuperAdmin:q,createUser:async a=>await r(a)},children:a})},m=()=>{let a=(0,e.useContext)(k);if(!a)throw Error("useAuth must be used within an AuthProvider");return a}},16585:(a,b,c)=>{"use strict";c.d(b,{u:()=>e});var d=c(55108);let e={loginAdmin:async(a,b)=>(await d.A.post("/auth/admin-login",{email:a,password:b})).data,loginUser:async(a,b)=>(await d.A.post("/auth/login",{login_id:a,password:b})).data,registerSuperAdmin:async a=>(await d.A.post("/auth/admin-register",a)).data,createUser:async a=>(await d.A.post("/admin/create-user",a)).data,getProfile:async()=>(await d.A.get("/auth/me")).data,getCountries:async()=>(await d.A.get("/admin/countries")).data,getStates:async()=>(await d.A.get("/admin/states")).data,getLgas:async()=>(await d.A.get("/admin/lgas")).data,logout:async()=>(await d.A.post("/auth/admin-logout")).data}},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>o,metadata:()=>m,viewport:()=>n});var d=c(75338),e=c(81883),f=c.n(e),g=c(13135),h=c.n(g);c(82704);var i=c(26507),j=c(80452),k=c(39054),l=c(39753);let m={title:"Afrik Farm | Digital Agriculture Investment Platform",description:"Afrik Farm bridges African farmers with global investors through transparent funding, agronomic support, and data-driven market access. Empowering 120k+ farmers to thrive.",keywords:["Afrik Farm","agriculture investment","African farmers","impact investing","agribusiness","sustainable farming","farm funding","agritech","diaspora investment","rural development"],authors:[{name:"Afrik Farm Team"}],openGraph:{title:"Afrik Farm | Digital Agriculture Investment Platform",description:"Transforming African agriculture by connecting farmers with investors worldwide. Transparent, sustainable, and impactful.",url:"https://afrikfarms.vercel.app/",siteName:"Afrik Farm",images:[{url:"/afrikfarm.png",width:1200,height:630,alt:"Afrik Farm - Empowering African Farmers"}],locale:"en_US",type:"website"},twitter:{card:"summary_large_image",title:"Afrik Farm | Digital Agriculture Investment Platform",description:"Afrik Farm empowers 120k+ African farmers with global funding, agronomy, and market access.",images:["/og-image.jpg"],creator:"@AfrikFarm"},metadataBase:new URL("https://afrikfarms.vercel.app"),icons:{icon:"/favicon.ico",apple:"/apple-touch-icon.png"}},n={themeColor:"#205E0E"};function o({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(i.default,{children:(0,d.jsx)(j.AuthProvider,{children:(0,d.jsx)(l.AdminProvider,{children:(0,d.jsx)(k.LGAProvider,{children:a})})})})})})}},24995:(a,b,c)=>{"use strict";c.d(b,{AdminProvider:()=>h,z:()=>i});var d=c(21124),e=c(38301),f=c(35930);let g=(0,e.createContext)(void 0),h=({children:a})=>{let[b,c]=(0,e.useState)([]),[h,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(null),p=(0,e.useCallback)(()=>o(null),[]),q=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f.z.getDashboard();k(a.data||a)}catch(a){throw o(a.response?.data?.message||"Failed to fetch dashboard data"),a}finally{m(!1)}},[]),r=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f.z.getFarmers(),b=a?.data||[];c(b)}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmers"),a}finally{m(!1)}},[]),s=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f.z.getFarmerById(a);return b.farmer||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmer"),a}finally{m(!1)}},[]),t=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f.z.createFarmer(a);return await r(),b}catch(a){throw o(a.response?.data?.message||"Failed to create farmer"),a}finally{m(!1)}},[r]),u=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{await f.z.updateFarmer(a,b),await r()}catch(a){throw o(a.response?.data?.message||"Failed to update farmer"),a}finally{m(!1)}},[r]),v=(0,e.useCallback)(async a=>{m(!0),o(null);try{await f.z.deleteFarmer(a),c(b=>b.filter(b=>b.id!==a))}catch(a){throw o(a.response?.data?.message||"Failed to delete farmer"),a}finally{m(!1)}},[]),w=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f.z.getFarms(),b=a.data||a.farms||a||[];i(Array.isArray(b)?b:[])}catch(a){throw o(a.response?.data?.message||"Failed to fetch farms"),i([]),a}finally{m(!1)}},[]),x=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f.z.getFarmById(a);return b.farm||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farm"),a}finally{m(!1)}},[]),y=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f.z.getFarmersFarms(a);return b.farms||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmer farms"),a}finally{m(!1)}},[]),z=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f.z.createFarm(a);return await w(),b}catch(a){throw o(a.response?.data?.message||"Failed to create farm"),a}finally{m(!1)}},[w]),A=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{await f.z.updateFarm(a,b),await w()}catch(a){throw o(a.response?.data?.message||"Failed to update farm"),a}finally{m(!1)}},[w]),B=(0,e.useCallback)(async a=>{m(!0),o(null);try{await f.z.deleteFarm(a),i(b=>b.filter(b=>b.id!==a))}catch(a){throw o(a.response?.data?.message||"Failed to delete farm"),a}finally{m(!1)}},[]),C=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f.z.sendCode(a)}catch(a){throw o(a.response?.data?.message||"Failed to send code"),a}finally{m(!1)}},[]),D=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f.z.verifyCode(a)}catch(a){throw o(a.response?.data?.message||"Failed to verify code"),a}finally{m(!1)}},[]),E=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f.z.verifyNin(a)}catch(a){throw o(a.response?.data?.message||"Failed to verify NIN"),a}finally{m(!1)}},[]),F=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f.z.initializePayment(a)}catch(a){throw o(a.response?.data?.message||"Failed to initialize payment"),a}finally{m(!1)}},[]),G=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{return await f.z.verifyPayment(a,b)}catch(a){throw o(a.response?.data?.message||"Failed to verify payment"),a}finally{m(!1)}},[]),H=(0,e.useCallback)(async()=>{m(!0),o(null);try{return await f.z.getPaymentRevenue()}catch(a){throw o(a.response?.data?.message||"Failed to fetch payment revenue"),a}finally{m(!1)}},[]),I=(0,e.useCallback)(async()=>{m(!0),o(null);try{return await f.z.listPayments()}catch(a){throw o(a.response?.data?.message||"Failed to fetch payments list"),a}finally{m(!1)}},[]);return(0,d.jsx)(g.Provider,{value:{farmers:b,farms:h,dashboard:j,loading:l,error:n,fetchDashboard:q,fetchFarmers:r,getFarmerById:s,createFarmer:t,updateFarmer:u,deleteFarmer:v,fetchFarms:w,getFarmById:x,getFarmersFarms:y,createFarm:z,updateFarm:A,deleteFarm:B,sendCode:C,verifyCode:D,verifyNin:E,initailizePayment:F,verifyPayment:G,getPaymentRevenue:H,listPayments:I,clearError:p},children:a})},i=()=>{let a=(0,e.useContext)(g);if(!a)throw Error("useAdmin must be used within an AdminProvider");return a}},26507:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/user/Desktop/Afrikfarms/providers/queryProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/providers/queryProvider.tsx","default")},31519:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},35930:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});var d=c(55108);let e={getDashboard:async()=>(await d.A.get("/admin/dashboard")).data,createFarmer:async a=>(await d.A.post("/admin/create-farmer",a)).data,getFarmers:async()=>(await d.A.get("/admin/farmer/list-farmers")).data,getFarmerById:async a=>(await d.A.get(`/admin/farmer/get-farmer?farmer_id=${a}`)).data,sendCode:async a=>(await d.A.post("/admin/send-code",a)).data,verifyCode:async a=>(await d.A.post("/admin/verify-code",a)).data,verifyNin:async a=>(await d.A.post("/admin/verify-nin",a)).data,uploadProfileImage:async a=>(await d.A.post("/admin/upload-profile-image",a,{headers:{"Content-Type":"multipart/form-data"}})).data,UploadProofOfAddress:async a=>(await d.A.post("/admin/upload-proof-of-address",a,{headers:{"Content-Type":"multipart/form-data"}})).data,getBanks:async()=>(await d.A.get("/banks")).data,updateFarmer:async(a,b)=>(await d.A.put(`/admin/farmer/update-farmer?id=${a}`,b)).data,deleteFarmer:async a=>(await d.A.delete(`/admin/farmers/${a}`)).data,getFarms:async()=>(await d.A.get("/admin/farm/list-farms")).data,createFarm:async a=>(await d.A.post("/admin/farm/create-farm",a)).data,deleteFarm:async a=>(await d.A.delete(`/admin/delete-farm?farm_id=${a}`)).data,updateFarm:async(a,b)=>(await d.A.put(`/admin/farm/update-farm?farm_id=${a}`,b)).data,getFarmById:async a=>(await d.A.get(`/admin/get-farm?farm_id=${a}`)).data,getFarmersFarms:async a=>(await d.A.get(`/admin/farmers-farms?farmer_id=${a}`)).data,initializePayment:async a=>{console.log("=== PAYMENT INITIALIZATION DEBUG ==="),console.log("1. Data received by service:",a),console.log("2. Data stringified:",JSON.stringify(a));try{let b=await d.A.post("/admin/initialize-payment",a);return console.log("3. Full response received:",b),console.log("4. Response data:",b.data),b.data}catch(a){throw console.error("4. Error caught in service:",a),console.error("5. Error response data:",a.response?.data),console.error("6. Error request data:",a.config?.data),a}},verifyPayment:async(a,b)=>(await d.A.get(`/admin/verify-payment?trxref=${a}&reference=${b}`)).data,getPaymentRevenue:async()=>(await d.A.get("/admin/payment/revenue")).data,listPayments:async()=>(await d.A.get("/admin/payment/list-payments")).data}},39054:(a,b,c)=>{"use strict";c.d(b,{LGAProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call LGAProvider() from the server but LGAProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/LgaContext.tsx","LGAProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useLGA() from the server but useLGA is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/LgaContext.tsx","useLGA")},39753:(a,b,c)=>{"use strict";c.d(b,{AdminProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AdminProvider() from the server but AdminProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/AdminContext.tsx","AdminProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAdmin() from the server but useAdmin is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/AdminContext.tsx","useAdmin")},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},55108:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});let d=c(12989).A.create({baseURL:"https://backend-api.afrikfarm.com/api/v1",headers:{"Content-Type":"application/json"}});d.interceptors.request.use(a=>{let b=localStorage.getItem("token");return b&&(a.headers.Authorization=`Bearer ${b}`),a});let e=d},68563:(a,b,c)=>{"use strict";c.d(b,{default:()=>g});var d=c(21124),e=c(96610);let f=new(c(62806)).E({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}});function g({children:a}){return(0,d.jsx)(e.Ht,{client:f,children:a})}},75864:(a,b,c)=>{Promise.resolve().then(c.bind(c,39753)),Promise.resolve().then(c.bind(c,80452)),Promise.resolve().then(c.bind(c,39054)),Promise.resolve().then(c.bind(c,26507))},76536:(a,b,c)=>{Promise.resolve().then(c.bind(c,24995)),Promise.resolve().then(c.bind(c,12622)),Promise.resolve().then(c.bind(c,96464)),Promise.resolve().then(c.bind(c,68563))},80452:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/AuthContext.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/Afrikfarms/context/AuthContext.tsx","useAuth")},82704:()=>{},96464:(a,b,c)=>{"use strict";c.d(b,{LGAProvider:()=>h,e:()=>i});var d=c(21124),e=c(38301),f=c(12057);let g=(0,e.createContext)(void 0),h=({children:a})=>{let[b,c]=(0,e.useState)([]),[h,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(null),p=(0,e.useCallback)(()=>o(null),[]),q=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f._.getDashboard();k(a)}catch(a){throw o(a.response?.data?.message||"Failed to fetch dashboard data"),a}finally{m(!1)}},[]),r=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f._.getFarmers(),b=a?.data||[];c(b)}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmers"),a}finally{m(!1)}},[]),s=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f._.getFarmerById(a);return b.farmer||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmer"),a}finally{m(!1)}},[]),t=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f._.createFarmer(a);return await r(),b}catch(a){throw o(a.response?.data?.message||"Failed to create farmer"),a}finally{m(!1)}},[r]),u=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{await f._.updateFarmer(a,b),await r()}catch(a){throw o(a.response?.data?.message||"Failed to update farmer"),a}finally{m(!1)}},[r]),v=(0,e.useCallback)(async a=>{m(!0),o(null);try{await f._.deleteFarmer(a),c(b=>b.filter(b=>b.id!==a))}catch(a){throw o(a.response?.data?.message||"Failed to delete farmer"),a}finally{m(!1)}},[]),w=(0,e.useCallback)(async()=>{m(!0),o(null);try{let a=await f._.getFarms(),b=a.data||a.farms||a||[];i(Array.isArray(b)?b:[])}catch(a){throw o(a.response?.data?.message||"Failed to fetch farms"),i([]),a}finally{m(!1)}},[]),x=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f._.getFarmById(a);return b.farm||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farm"),a}finally{m(!1)}},[]),y=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f._.getFarmersFarms(a);return b.farms||b}catch(a){throw o(a.response?.data?.message||"Failed to fetch farmer farms"),a}finally{m(!1)}},[]),z=(0,e.useCallback)(async a=>{m(!0),o(null);try{let b=await f._.createFarm(a);return await w(),b}catch(a){throw o(a.response?.data?.message||"Failed to create farm"),a}finally{m(!1)}},[w]),A=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{await f._.updateFarm(a,b),await w()}catch(a){throw o(a.response?.data?.message||"Failed to update farm"),a}finally{m(!1)}},[w]),B=(0,e.useCallback)(async a=>{m(!0),o(null);try{await f._.deleteFarm(a),i(b=>b.filter(b=>b.id!==a))}catch(a){throw o(a.response?.data?.message||"Failed to delete farm"),a}finally{m(!1)}},[]),C=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f._.sendCode(a)}catch(a){throw o(a.response?.data?.message||"Failed to send code"),a}finally{m(!1)}},[]),D=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f._.verifyCode(a)}catch(a){throw o(a.response?.data?.message||"Failed to verify code"),a}finally{m(!1)}},[]),E=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f._.verifyNin(a)}catch(a){throw o(a.response?.data?.message||"Failed to verify NIN"),a}finally{m(!1)}},[]),F=(0,e.useCallback)(async a=>{m(!0),o(null);try{return await f._.initializePayment(a)}catch(a){throw o(a.response?.data?.message||"Failed to initialize payment"),a}finally{m(!1)}},[]),G=(0,e.useCallback)(async(a,b)=>{m(!0),o(null);try{return await f._.verifyPayment(a,b)}catch(a){throw o(a.response?.data?.message||"Failed to verify payment"),a}finally{m(!1)}},[]);return(0,d.jsx)(g.Provider,{value:{farmers:b,farms:h,dashboard:j,loading:l,error:n,fetchDashboard:q,fetchFarmers:r,getFarmerById:s,createFarmer:t,updateFarmer:u,deleteFarmer:v,fetchFarms:w,getFarmById:x,getFarmersFarms:y,createFarm:z,updateFarm:A,deleteFarm:B,sendCode:C,verifyCode:D,verifyNin:E,initailizePayment:F,verifyPayment:G,clearError:p},children:a})},i=()=>{let a=(0,e.useContext)(g);if(!a)throw Error("useLGA must be used within an LGAProvider");return a}}};