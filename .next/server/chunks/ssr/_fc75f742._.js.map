{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/dev/afrikfarms/app/dashboard/_components/Sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { usePathname } from \"next/navigation\"\nimport { motion } from \"framer-motion\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\nimport { \n  LayoutDashboard, \n  Users, \n  Tractor, \n  FileText, \n  DollarSign, \n  CheckCircle2, \n  BarChart3, \n  LogOut,\n  UserPlus,\n  Wallet,\n  Settings,\n  Shield\n} from \"lucide-react\"\nimport { useAuth } from \"@/context/AuthContext\"\n\n// Menu items for Super Admin\nconst superAdminMenuItems = [\n  { icon: LayoutDashboard, label: \"Dashboard\", href: \"/admin/dashboard\" },\n  { icon: UserPlus, label: \"Create Admin\", href: \"/admin/dashboard/create-admin\" },\n  // { icon: Shield, label: \"Manage Admins\", href: \"/admin/dashboard/admins\" },\n  { icon: Users, label: \"Farmers\", href: \"/admin/dashboard/farmers\" },\n  { icon: Tractor, label: \"Farms\", href: \"/admin/dashboard/farms\" },\n  { icon: FileText, label: \"Farm Updates\", href: \"/admin/dashboard/updates\" },\n  // { icon: DollarSign, label: \"Loan Applications\", href: \"/admin/dashboard/loans\" },\n  // { icon: CheckCircle2, label: \"Verification\", href: \"/admin/dashboard/verification\" },\n  { icon: Wallet, label: \"Revenue\", href: \"/admin/dashboard/revenue\" },\n  // { icon: BarChart3, label: \"Reports\", href: \"/dashboard/reports\" },\n  // { icon: Settings, label: \"System Settings\", href: \"/dashboard/settings\" },\n]\n\n// Menu items for State/LGA Admins\nconst regularAdminMenuItems = [\n  { icon: LayoutDashboard, label: \"Dashboard\", href: \"/dashboard\" },\n  { icon: Users, label: \"Farmers\", href: \"/dashboard/farmers\" },\n  { icon: Tractor, label: \"Farms\", href: \"/dashboard/farms\" },\n  { icon: FileText, label: \"Farm Updates\", href: \"/dashboard/updates\" },\n  { icon: DollarSign, label: \"Loan Applications\", href: \"/dashboard/loans\" },\n  { icon: CheckCircle2, label: \"Verification\", href: \"/dashboard/verification\" },\n  { icon: BarChart3, label: \"Reports\", href: \"/dashboard/reports\" },\n]\n\nexport default function Sidebar({ onLogout }: { onLogout: () => void }) {\n  const pathname = usePathname() || \"/dashboard\"\n  const { user } = useAuth()\n\n  // Determine which menu items to show based on user role\n  const isSuperAdmin = user?.role?.toLowerCase().includes('super')\n  const menuItems = isSuperAdmin ? superAdminMenuItems : regularAdminMenuItems\n\n  // Get user initials for display\n  const getUserInitials = () => {\n    if (user?.fullname) {\n      const names = user.fullname.split(' ')\n      return names.length > 1 \n        ? `${names[0][0]}${names[1][0]}`.toUpperCase()\n        : user.fullname.slice(0, 2).toUpperCase()\n    }\n    return user?.email?.slice(0, 2).toUpperCase() || 'U'\n  }\n\n  // Format role for display\n  const formatRole = (role?: string) => {\n    if (!role) return 'Unknown Role'\n    return role\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  }\n\n  return (\n    <aside className=\"w-72 bg-sidebar border-r border-sidebar-border flex flex-col h-screen sticky top-0 shadow-sm\">\n      {/* Logo Section */}\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"p-6 border-b border-sidebar-border\"\n      >\n        <div className=\"flex items-center gap-3\">\n          <motion.div\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            <Link href=\"/\" className=\"flex items-center gap-3 group\">\n              <Image src=\"/afrikfarms.png\" alt=\"Afrik Farm Logo\" width={100} height={100} />\n            </Link>\n          </motion.div>\n          <div>\n            <p className=\"text-xs text-muted-foreground font-medium\">\n              {isSuperAdmin ? 'Super Admin Portal' : 'LGA Portal'}\n            </p>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* User Profile Section */}\n      <motion.div\n        initial={{ opacity: 0, x: -20 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n        className=\"p-6 border-b border-sidebar-border bg-muted/30\"\n      >\n        <div className=\"flex items-center gap-3\">\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            className=\"w-12 h-12 bg-primary rounded-xl flex items-center justify-center font-bold text-primary-foreground shadow-md\"\n          >\n            {getUserInitials()}\n          </motion.div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-sm font-bold text-sidebar-foreground truncate\">\n              {user?.fullname || user?.email?.split('@')[0] || 'User'}\n            </h3>\n            <p className=\"text-xs text-muted-foreground font-medium truncate\">\n              {formatRole(user?.role)}\n            </p>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Navigation Menu */}\n      <nav className=\"flex-1 p-4 overflow-y-auto\">\n        <motion.div\n          initial=\"hidden\"\n          animate=\"visible\"\n          variants={{\n            hidden: { opacity: 0 },\n            visible: {\n              opacity: 1,\n              transition: {\n                staggerChildren: 0.05,\n              },\n            },\n          }}\n          className=\"space-y-2\"\n        >\n          {menuItems.map((item) => {\n            const Icon = item.icon\n            const isActive = pathname === item.href\n            return (\n              <motion.div\n                key={item.href}\n                variants={{\n                  hidden: { opacity: 0, x: -20 },\n                  visible: { opacity: 1, x: 0 },\n                }}\n              >\n                <Link\n                  href={item.href}\n                  className={`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 group ${\n                    isActive\n                      ? \"bg-sidebar-accent text-sidebar-accent-foreground font-semibold shadow-sm border border-primary/20\"\n                      : \"text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground\"\n                  }`}\n                >\n                  <div className={`transition-transform duration-200 ${isActive ? '' : 'group-hover:scale-110'}`}>\n                    <Icon className={`w-5 h-5 ${isActive ? \"text-primary\" : \"\"}`} />\n                  </div>\n                  <span className=\"text-sm font-medium\">{item.label}</span>\n                  {isActive && (\n                    <motion.div\n                      layoutId=\"activeIndicator\"\n                      className=\"ml-auto w-2 h-2 rounded-full bg-primary\"\n                      transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n                    />\n                  )}\n                </Link>\n              </motion.div>\n            )\n          })}\n        </motion.div>\n      </nav>\n\n      {/* Logout Section */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.5 }}\n        className=\"p-4 border-t border-sidebar-border\"\n      >\n        <motion.button\n          onClick={onLogout}\n          whileHover={{ scale: 1.02 }}\n          whileTap={{ scale: 0.98 }}\n          className=\"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-all duration-200 group border border-transparent hover:border-destructive/20\"\n        >\n          <LogOut className=\"w-5 h-5 transition-transform duration-200 group-hover:scale-110\" />\n          <span className=\"text-sm font-semibold\">Logout</span>\n        </motion.button>\n      </motion.div>\n    </aside>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/dev/afrikfarms/app/dashboard/_components/Header.tsx"],"sourcesContent":["\"use client\"\n\nimport { Search, Bell, Settings, Menu, LogOut, ChevronDown } from 'lucide-react'\nimport { useAuth } from '@/context/AuthContext'\nimport { useState, useRef, useEffect } from 'react'\n\ninterface HeaderProps {\n  onMenuClick: () => void\n  notificationCount?: number\n}\n\nexport default function Header({ onMenuClick, notificationCount = 3 }: HeaderProps) {\n  const { user, logout } = useAuth()\n  const [showUserMenu, setShowUserMenu] = useState(false)\n  const menuRef = useRef<HTMLDivElement>(null)\n\n  console.log('Authenticated User:', user)\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setShowUserMenu(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  // Format role for display\n  const formatRole = (role?: string) => {\n    if (!role) return 'Unknown Role'\n    return role\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  }\n\n  // Get location info based on role\n  const getLocationInfo = () => {\n    if (!user) return { title: 'Loading...', subtitle: 'Please wait' }\n\n    const role = user.role?.toLowerCase()\n    \n    if (role?.includes('super')) {\n      return {\n        title: 'Afrik Farm - Super Admin',\n        subtitle: 'All Regions â€¢ Pan-African'\n      }\n    }\n    \n    if (role?.includes('country')) {\n      return {\n        title: 'Country Administration',\n        subtitle: 'National Operations'\n      }\n    }\n    \n    if (role?.includes('state')) {\n      return {\n        title: 'State Administration',\n        subtitle: 'State Operations'\n      }\n    }\n    \n    if (role?.includes('lga')) {\n      return {\n        title: 'LGA Administration',\n        subtitle: 'Local Government Area'\n      }\n    }\n\n    return {\n      title: user.fullname || 'Dashboard',\n      subtitle: formatRole(user.role)\n    }\n  }\n\n  const locationInfo = getLocationInfo()\n\n  const handleLogout = () => {\n    logout()\n    setShowUserMenu(false)\n  }\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-200\">\n      <div className=\"flex items-center justify-between px-6 py-4\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={onMenuClick}\n            className=\"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <Menu className=\"w-5 h-5 text-gray-600\" />\n          </button>\n          <div>\n            <h2 className=\"text-lg font-semibold text-gray-900\">{locationInfo.title}</h2>\n            <p className=\"text-xs text-gray-500\">{locationInfo.subtitle}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative hidden md:block\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search farmers, farms, loans...\"\n              className=\"pl-10 pr-4 py-2 w-80 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\n            />\n          </div>\n\n          {/* <button className=\"relative p-2.5 hover:bg-gray-100 rounded-xl transition-colors\">\n            <Bell className=\"w-5 h-5 text-gray-600\" />\n            {notificationCount > 0 && (\n              <span className=\"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center\">\n                {notificationCount}\n              </span>\n            )}\n          </button> */}\n\n          <button className=\"p-2.5 hover:bg-gray-100 rounded-xl transition-colors\">\n            <Settings className=\"w-5 h-5 text-gray-600\" />\n          </button>\n\n          {/* User Avatar with Dropdown */}\n          <div className=\"hidden md:flex items-center gap-2 pl-3 border-l border-gray-200 relative\" ref={menuRef}>\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center gap-2 hover:bg-gray-50 rounded-lg p-1.5 pr-2 transition-colors\"\n            >\n              <div className=\"w-9 h-9 bg-primary rounded-lg flex items-center justify-center font-bold text-primary-foreground text-sm\">\n                {user?.fullname?.slice(0, 2).toUpperCase() || \n                 user?.email?.slice(0, 2).toUpperCase() || 'U'}\n              </div>\n              <div className=\"text-left\">\n                <p className=\"text-xs font-semibold text-gray-900 truncate max-w-[120px]\">\n                  {user?.fullname || user?.email?.split('@')[0] || 'User'}\n                </p>\n                <p className=\"text-[10px] text-gray-500\">\n                  {user?.role ? formatRole(user.role) : 'Loading...'}\n                </p>\n              </div>\n              <ChevronDown className={`w-4 h-4 text-gray-400 transition-transform ${showUserMenu ? 'rotate-180' : ''}`} />\n            </button>\n\n            {/* Dropdown Menu */}\n            {showUserMenu && (\n              <div className=\"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50\">\n                <div className=\"px-4 py-3 border-b border-gray-100\">\n                  <p className=\"text-sm font-semibold text-gray-900 truncate\">\n                    {user?.fullname || user?.email?.split('@')[0] || 'User'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 truncate\">{user?.email}</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">\n                    {user?.role ? formatRole(user.role) : 'Loading...'}\n                  </p>\n                </div>\n\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors\"\n                >\n                  <LogOut className=\"w-4 h-4\" />\n                  <span className=\"font-medium\">Logout</span>\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/dev/afrikfarms/services/admin.service.ts"],"sourcesContent":["import apiClient from \"@/lib/apiClient\";\n\nexport interface CreateFarmerData {\n  fullname: string\n  email?: string | null\n  phone_number: string\n  phone_verified: boolean\n  nin: string\n  nin_verified: boolean\n  address: string\n  bankId: number\n  account_name: string\n  account_number: string\n  profile_image?: string | File   \n  proof_of_address?: string | File \n}\n\nexport interface SendCodeData {\n  phone_number: string;\n}\nexport interface UploadProfileImageData {\n  file: File;\n}\n\nexport interface VerifyCodeData {\n  phone_number: string;\n  code: string;\n}\n\nexport interface VerifyNinData {\n  nin: string;\n  // Add other NIN verification fields as needed\n}\n\nexport const AdminService = {\n  // Get Admin dashboard data\n  getDashboard: async () => {\n    const response = await apiClient.get(\"/admin/dashboard\");\n    return response.data;\n  },\n\n  // Create a new farmer\n  createFarmer: async (data: CreateFarmerData) => {\n    const response = await apiClient.post(\"/admin/create-farmer\", data);\n    return response.data;\n  },\n\n  // Get all farmers\n  getFarmers: async () => {\n    const response = await apiClient.get(\"/admin/farmer/list-farmers\");\n    return response.data;\n  },\n\n  // Get a single farmer by ID\n  getFarmerById: async (id: number | string) => {\n    const response = await apiClient.get(`/admin/farmer/get-farmer?farmer_id=${id}`);\n    return response.data;\n  },\n\n  // Send verification code to phone number\n  sendCode: async (data: SendCodeData) => {\n    const response = await apiClient.post(\"/admin/send-code\", data);\n    return response.data;\n  },\n\n  // Verify code sent to phone number\n  verifyCode: async (data: VerifyCodeData) => {\n    const response = await apiClient.post(\"/admin/verify-code\", data);\n    return response.data;\n  },\n\n  verifyNin: async (data: VerifyNinData) => {\n    const response = await apiClient.post(\"/admin/verify-nin\", data);\n    return response.data;\n  },\n  \n  uploadProfileImage: async (data: FormData) => {\n    const response = await apiClient.post(\"/admin/upload-profile-image\", data, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  UploadProofOfAddress: async (data: FormData) => {\n    const response = await apiClient.post(\"/admin/upload-proof-of-address\", data, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  getBanks: async () => {\n    const response = await apiClient.get(\"/banks\");\n    return response.data;\n  },\n\n  updateFarmer: async (id: number | string, data: Partial<CreateFarmerData>) => {\n    const response = await apiClient.put(`/admin/farmer/update-farmer?id=${id}`, data);\n    return response.data;\n  },\n\n  deleteFarmer: async (id: number | string) => {\n    const response = await apiClient.delete(`/admin/farmers/${id}`);\n    return response.data;\n  },\n\n  // Farm endpoints \n  getFarms: async () => {\n    const response = await apiClient.get(\"/admin/farm/list-farms\");\n    return response.data;\n  },\n\n  createFarm: async (data: any) => {\n    const response = await apiClient.post(\"/admin/farm/create-farm\", data);\n    return response.data;\n  },\n\n  deleteFarm: async (id: number | string) => {\n    const response = await apiClient.delete(`/admin/delete-farm?farm_id=${id}`);\n    return response.data;\n  },\n\n  updateFarm: async (id: number | string, data: any) => {\n    const response = await apiClient.put(`/admin/farm/update-farm?farm_id=${id}`, data);\n    return response.data;\n  },\n\n  getFarmById: async (id: number | string) => {\n    const response = await apiClient.get(`/admin/get-farm?farm_id=${id}`);\n    return response.data;\n  },\n\n  getFarmersFarms: async (id: number | string) => {\n    const response = await apiClient.get(`/admin/farmers-farms?farmer_id=${id}`);\n    return response.data;\n  },\n\n  // Payment endpoints\n  initializePayment: async (data: any) => {\n    console.log(\"=== PAYMENT INITIALIZATION DEBUG ===\");\n    console.log(\"1. Data received by service:\", data);\n    console.log(\"2. Data stringified:\", JSON.stringify(data));\n    \n    try {\n      const response = await apiClient.post(\"/admin/initialize-payment\", data);\n      console.log(\"3. Full response received:\", response);\n      console.log(\"4. Response data:\", response.data);\n      \n      // Return the full response data\n      // The structure is likely: response.data contains { data: { authorization_url, reference }, message, status }\n      return response.data;\n    } catch (error: any) {\n      console.error(\"4. Error caught in service:\", error);\n      console.error(\"5. Error response data:\", error.response?.data);\n      console.error(\"6. Error request data:\", error.config?.data);\n      throw error;\n    }\n  },\n\n  verifyPayment: async (trxref: string, reference: string) => {\n    const response = await apiClient.get(`/admin/verify-payment?trxref=${trxref}&reference=${reference}`);\n    return response.data;\n  },\n\n  // Additional payment endpoints\n  getPaymentRevenue: async () => {\n    const response = await apiClient.get(\"/admin/payment/revenue\");\n    return response.data;\n  },\n\n  listPayments: async () => {\n    const response = await apiClient.get(\"/admin/payment/list-payments\");\n    return response.data;\n  },\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/dev/afrikfarms/context/AdminContext.tsx"],"sourcesContent":["\"use client\"\nimport { createContext, useState, ReactNode, useContext, useCallback } from \"react\"\nimport {\n  AdminService,\n  CreateFarmerData,\n  SendCodeData,\n  VerifyCodeData,\n  VerifyNinData,\n} from \"@/services/admin.service\"\n\ninterface Farmer {\n  id?: number\n  fullname: string\n  email?: string | null\n  phone_number: string\n  phone_verified: boolean\n  nin: string\n  nin_verified: boolean\n  address: string\n  bankId: number\n  account_name: string\n  account_number: string\n  profile_image?: string\n  proof_of_address?: string\n  createdAt?: string\n  updatedAt?: string\n}\n\nexport interface Farm {\n  id: number\n  farmerId: number\n  name: string\n  location: string\n  latitude: string\n  longitude: string\n  type: 'Crop' | 'Livestock'\n  production_type: string  // Note: underscore, not camelCase\n  size: number\n  sizeUnit: 'Acre' | 'Hectare'\n  stage: 'Cleared' | 'Planted' | 'Harvesting'\n  ownershipDocument: string | null\n  number_of_workers: number\n  verified: boolean\n  status?: 'pending' | 'verified' | 'rejected'  // Optional for filtering\n  createdAt: string\n  updatedAt: string\n}\n\ninterface DashboardData {\n  totalFarmers?: number\n  verifiedFarmers?: number\n  pendingVerifications?: number\n  [key: string]: any\n}\n\ninterface AdminContextType {\n  farmers: Farmer[]\n  farms: Farm[]\n  dashboard: DashboardData | null\n  loading: boolean\n  error: string | null\n\n  fetchDashboard: () => Promise<void>\n  fetchFarmers: () => Promise<void>\n  getFarmerById: (id: number | string) => Promise<any>\n  createFarmer: (data: CreateFarmerData) => Promise<void>\n  updateFarmer: (id: number | string, data: Partial<CreateFarmerData>) => Promise<void>\n  deleteFarmer: (id: number | string) => Promise<void>\n\n  fetchFarms: () => Promise<void>\n  getFarmById: (id: number | string) => Promise<Farm>\n  getFarmersFarms: (farmerId: number | string) => Promise<Farm[]>\n  createFarm: (data: any) => Promise<void>\n  updateFarm: (id: number | string, data: any) => Promise<void>\n  deleteFarm: (id: number | string) => Promise<void>\n\n  sendCode: (data: SendCodeData) => Promise<any>\n  verifyCode: (data: VerifyCodeData) => Promise<any>\n  verifyNin: (data: VerifyNinData) => Promise<any>\n\n  initailizePayment: (data: any) => Promise<any>\n  verifyPayment: (trxref: string, reference: string) => Promise<any>\n  \n  getPaymentRevenue: () => Promise<any>\n  listPayments: () => Promise<any>\n\n  clearError: () => void\n}\n\nconst AdminContext = createContext<AdminContextType | undefined>(undefined)\n\nexport const AdminProvider = ({ children }: { children: ReactNode }) => {\n  const [farmers, setFarmers] = useState<Farmer[]>([])\n  const [farms, setFarms] = useState<Farm[]>([])\n  const [dashboard, setDashboard] = useState<DashboardData | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const clearError = useCallback(() => setError(null), [])\n\n const fetchDashboard = useCallback(async () => {\n  setLoading(true)\n  setError(null)\n  try {\n    const response = await AdminService.getDashboard()\n    // Extract the nested data object\n    setDashboard(response.data || response)\n  } catch (err: any) {\n    setError(err.response?.data?.message || \"Failed to fetch dashboard data\")\n    throw err\n  } finally {\n    setLoading(false)\n  }\n}, [])\n\n  const fetchFarmers = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const response = await AdminService.getFarmers()\n      const farmersArray = response?.data || []  \n      setFarmers(farmersArray)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch farmers\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const getFarmerById = useCallback(async (id: number | string): Promise<Farmer> => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await AdminService.getFarmerById(id)\n      return data.farmer || data\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch farmer\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const createFarmer = useCallback(async (data: CreateFarmerData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      const res = await AdminService.createFarmer(data)\n      await fetchFarmers()\n      return res\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to create farmer\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [fetchFarmers])\n\n  const updateFarmer = useCallback(\n    async (id: number | string, data: Partial<CreateFarmerData>) => {\n      setLoading(true)\n      setError(null)\n      try {\n        await AdminService.updateFarmer(id, data)\n        await fetchFarmers()\n      } catch (err: any) {\n        setError(err.response?.data?.message || \"Failed to update farmer\")\n        throw err\n      } finally {\n        setLoading(false)\n      }\n    },\n    [fetchFarmers],\n  )\n\n  const deleteFarmer = useCallback(async (id: number | string) => {\n    setLoading(true)\n    setError(null)\n    try {\n      await AdminService.deleteFarmer(id)\n      setFarmers((prev) => prev.filter((f) => f.id !== id))\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to delete farmer\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const fetchFarms = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const res = await AdminService.getFarms()\n      const farmsData = res.data || res.farms || res || []\n      setFarms(Array.isArray(farmsData) ? farmsData : [])\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch farms\")\n      setFarms([])\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const getFarmById = useCallback(async (id: number | string): Promise<Farm> => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await AdminService.getFarmById(id)\n      return data.farm || data\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch farm\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const getFarmersFarms = useCallback(async (farmerId: number | string): Promise<Farm[]> => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await AdminService.getFarmersFarms(farmerId)\n      return data.farms || data\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch farmer farms\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const createFarm = useCallback(\n    async (data: any) => {\n      setLoading(true)\n      setError(null)\n      try {\n        const res = await AdminService.createFarm(data)\n        await fetchFarms()\n        return res\n      } catch (err: any) {\n        setError(err.response?.data?.message || \"Failed to create farm\")\n        throw err\n      } finally {\n        setLoading(false)\n      }\n    },\n    [fetchFarms],\n  )\n\n  const updateFarm = useCallback(\n    async (id: number | string, data: any) => {\n      setLoading(true)\n      setError(null)\n      try {\n        await AdminService.updateFarm(id, data)\n        await fetchFarms()\n      } catch (err: any) {\n        setError(err.response?.data?.message || \"Failed to update farm\")\n        throw err\n      } finally {\n        setLoading(false)\n      }\n    },\n    [fetchFarms],\n  )\n\n  const deleteFarm = useCallback(async (id: number | string) => {\n    setLoading(true)\n    setError(null)\n    try {\n      await AdminService.deleteFarm(id)\n      setFarms((prev) => prev.filter((f) => f.id !== id))\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to delete farm\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const sendCode = useCallback(async (data: SendCodeData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.sendCode(data)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to send code\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const verifyCode = useCallback(async (data: VerifyCodeData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.verifyCode(data)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to verify code\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const verifyNin = useCallback(async (data: VerifyNinData) => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.verifyNin(data)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to verify NIN\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const initailizePayment = useCallback(async (data: any) => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.initializePayment(data)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to initialize payment\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const verifyPayment = useCallback(async (trxref: string, reference: string) => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.verifyPayment(trxref, reference)\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to verify payment\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const getPaymentRevenue = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.getPaymentRevenue()\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch payment revenue\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const listPayments = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      return await AdminService.listPayments()\n    } catch (err: any) {\n      setError(err.response?.data?.message || \"Failed to fetch payments list\")\n      throw err\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  return (\n    <AdminContext.Provider\n      value={{\n        farmers,\n        farms,\n        dashboard,\n        loading,\n        error,\n        fetchDashboard,\n        fetchFarmers,\n        getFarmerById,\n        createFarmer,\n        updateFarmer,\n        deleteFarmer,\n        fetchFarms,\n        getFarmById,\n        getFarmersFarms,\n        createFarm,\n        updateFarm,\n        deleteFarm,\n        sendCode,\n        verifyCode,\n        verifyNin,\n        initailizePayment,\n        verifyPayment,\n        getPaymentRevenue,\n        listPayments,\n        clearError,\n      }}\n    >\n      {children}\n    </AdminContext.Provider>\n  )\n}\n\nexport const useAdmin = () => {\n  const ctx = useContext(AdminContext)\n  if (!ctx) throw new Error(\"useAdmin must be used within an AdminProvider\")\n  return ctx\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1188, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/dev/afrikfarms/app/admin/dashboard/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Sidebar from '@/app/dashboard/_components/Sidebar'\nimport Header from '@/app/dashboard/_components/Header'\nimport { AdminProvider } from '@/context/AdminContext'\n\nexport default function DashboardLayout({ children }: { children: React.ReactNode }) {\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n\n  const handleLogout = () => {\n    if (confirm('Are you sure you want to logout?')) {\n      window.location.href = '/'\n    }\n  }\n\n  return (\n    <AdminProvider>\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Backdrop */}\n      <div\n        className={`fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300 ${\n          sidebarOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        }`}\n        onClick={() => setSidebarOpen(false)}\n      />\n\n      {/* Sidebar */}\n      <div\n        className={`fixed lg:sticky top-0 z-50 transition-transform duration-300 lg:translate-x-0 ${\n          sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n        }`}\n      >\n        <Sidebar\n          onLogout={handleLogout}\n        />\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col min-h-screen\">\n        <Header onMenuClick={() => setSidebarOpen(!sidebarOpen)} notificationCount={3} />\n        <main className=\"flex-1 p-6 lg:p-8\">{children}</main>\n      </div>\n    </div>\n    </AdminProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACjF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,eAAe;QACnB,IAAI,QAAQ,qCAAqC;YAC/C,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IAEA,qBACE,8OAAC,yIAAa;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBACC,WAAW,CAAC,yEAAyE,EACnF,cAAc,gBAAgB,iCAC9B;oBACF,SAAS,IAAM,eAAe;;;;;;8BAIhC,8OAAC;oBACC,WAAW,CAAC,8EAA8E,EACxF,cAAc,kBAAkB,qBAChC;8BAEF,cAAA,8OAAC,sJAAO;wBACN,UAAU;;;;;;;;;;;8BAKd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qJAAM;4BAAC,aAAa,IAAM,eAAe,CAAC;4BAAc,mBAAmB;;;;;;sCAC5E,8OAAC;4BAAK,WAAU;sCAAqB;;;;;;;;;;;;;;;;;;;;;;;AAK7C","debugId":null}}]
}