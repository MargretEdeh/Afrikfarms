(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(a,e,t)=>{e.exports=a.r(76562)},12598,a=>{"use strict";a.s(["QueryClientProvider",()=>n,"useQueryClient",()=>l]);var e=a.i(71645),t=a.i(43476),r=e.createContext(void 0),l=a=>{let t=e.useContext(r);if(a)return a;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},n=a=>{let{client:l,children:n}=a;return e.useEffect(()=>(l.mount(),()=>{l.unmount()}),[l]),(0,t.jsx)(r.Provider,{value:l,children:n})}},97815,42365,a=>{"use strict";a.s(["AuthProvider",()=>c,"useAuth",()=>u],97815);var e=a.i(43476),t=a.i(71645),r=a.i(18566);a.s(["AuthService",()=>n],42365);var l=a.i(89699);let n={loginAdmin:async(a,e)=>(await l.default.post("/auth/admin-login",{email:a,password:e})).data,loginUser:async(a,e)=>(await l.default.post("/auth/login",{login_id:a,password:e})).data,registerSuperAdmin:async a=>(await l.default.post("/auth/admin-register",a)).data,createUser:async a=>(await l.default.post("/admin/create-user",a)).data,getProfile:async()=>(await l.default.get("/auth/me")).data,getCountries:async()=>(await l.default.get("/admin/countries")).data,getStates:async()=>(await l.default.get("/admin/states")).data,getLgas:async()=>(await l.default.get("/admin/lgas")).data,logout:async()=>(await l.default.post("/auth/admin-logout")).data};var i=a.i(12598);function s(a,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=new Date(Date.now()+864e5*t).toUTCString();document.cookie="".concat(a,"=").concat(encodeURIComponent(e),"; expires=").concat(r,"; path=/; SameSite=Strict")}function o(a){document.cookie="".concat(a,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict")}let d=(0,t.createContext)(void 0),c=a=>{let{children:l}=a,[c,u]=(0,t.useState)(null),[m,f]=(0,t.useState)(!0),y=(0,i.useQueryClient)(),v=(0,r.useRouter)();(0,t.useEffect)(()=>{let a=localStorage.getItem("user"),e=function(a){let e="; ".concat(document.cookie).split("; ".concat(a,"="));if(2===e.length){var t;return decodeURIComponent((null==(t=e.pop())?void 0:t.split(";").shift())||"")}return null}("token");a&&e&&u(JSON.parse(a)),f(!1)},[]);let g=async(a,e,t)=>{let r="admin"===t?await n.loginAdmin(a,e):await n.loginUser(a,e);console.log("Raw login response:",r);let l=r.user||r.admin,i={...l,token:r.token};u(i),localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(i)),s("token",r.token,7);let o=null==l?void 0:l.role;switch(console.log("User role for routing:",o),s("role",o,7),o){case"lga_admin":default:v.push("/dashboard");break;case"super_admin":v.push("/admin/dashboard");break;case"state_admin":v.push("/state/dashboard")}},w=async a=>{let e=await n.registerSuperAdmin(a),t={...e.admin||e.newAdmin,token:e.token};u(t),localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(t)),s("token",e.token,7),v.push("/admin/dashboard")},h=async a=>{await n.createUser(a)},p=async()=>{try{await n.logout()}catch(a){console.error("Error during server logout:",a)}try{localStorage.clear()}catch(a){console.error("Error clearing localStorage:",a),localStorage.removeItem("token"),localStorage.removeItem("user")}try{!function(){for(let a of document.cookie.split(";")){let e=a.indexOf("="),t=e>-1?a.substr(0,e).trim():a.trim();t&&(document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict"))}}()}catch(a){console.error("Error clearing cookies:",a),o("token"),o("role")}y.clear(),u(null);try{v.push("/login")}catch(a){window.location.href="/login"}};return(0,e.jsx)(d.Provider,{value:{user:c,loading:m,login:g,logout:p,registerSuperAdmin:w,createUser:async a=>await h(a)},children:l})},u=()=>{let a=(0,t.useContext)(d);if(!a)throw Error("useAuth must be used within an AuthProvider");return a}},84835,a=>{"use strict";a.s(["LGAService",()=>t]);var e=a.i(89699);let t={getDashboard:async()=>(await e.default.get("/lga/dashboard")).data,createFarmer:async a=>(await e.default.post("/lga/create-farmer",a)).data,getFarmers:async()=>(await e.default.get("/lga/farmers")).data,getFarmerById:async a=>(await e.default.get("/lga/farmers/".concat(a))).data,sendCode:async a=>(await e.default.post("/lga/send-code",a)).data,verifyCode:async a=>(await e.default.post("/lga/verify-code",a)).data,verifyNin:async a=>(await e.default.post("/lga/verify-nin",a)).data,uploadProfileImage:async(a,t)=>(await e.default.post("/lga/upload-profile-image",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})).data,UploadProofOfAddress:async(a,t)=>(await e.default.post("/lga/upload-proof-of-address",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})).data,getBanks:async()=>(await e.default.get("/banks")).data,getAccountName:async a=>(await e.default.get("/get-account-name",{params:{bank_code:a.bankCode,account_number:a.accountNumber}})).data,updateFarmer:async(a,t)=>(await e.default.put("/lga/farmers/".concat(a),t)).data,deleteFarmer:async a=>(await e.default.delete("/lga/farmers/".concat(a))).data,getFarms:async()=>(await e.default.get("/lga/farms")).data,createFarm:async a=>(await e.default.post("/lga/create-farm",a)).data,deleteFarm:async a=>(await e.default.delete("/lga/delete-farm?farm_id=".concat(a))).data,updateFarm:async(a,t)=>(await e.default.put("/lga/update-farm?farm_id=".concat(a),t)).data,getFarmById:async a=>(await e.default.get("/lga/get-farm?farm_id=".concat(a))).data,getFarmersFarms:async a=>(await e.default.get("/lga/farmers-farms?farmer_id=".concat(a))).data,initializePayment:async a=>{console.log("=== PAYMENT INITIALIZATION DEBUG ==="),console.log("1. Data received by service:",a),console.log("2. Data stringified:",JSON.stringify(a));try{let t=await e.default.post("/lga/initialize-payment",a);return console.log("3. Full response received:",t),console.log("4. Response data:",t.data),t.data}catch(a){var t,r;throw console.error("4. Error caught in service:",a),console.error("5. Error response data:",null==(t=a.response)?void 0:t.data),console.error("6. Error request data:",null==(r=a.config)?void 0:r.data),a}},verifyPayment:async(a,t)=>(await e.default.get("/lga/verify-payment?trxref=".concat(a,"&reference=").concat(t))).data}},69721,a=>{"use strict";a.s(["LGAProvider",()=>n,"useLGA",()=>i]);var e=a.i(43476),t=a.i(71645),r=a.i(84835);let l=(0,t.createContext)(void 0),n=a=>{let{children:n}=a,[i,s]=(0,t.useState)([]),[o,d]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[m,f]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),g=(0,t.useCallback)(()=>v(null),[]),w=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.LGAService.getDashboard();u(a)}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch dashboard data"),t}finally{f(!1)}},[]),h=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.LGAService.getFarmers(),e=(null==a?void 0:a.data)||[];s(e)}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch farmers"),t}finally{f(!1)}},[]),p=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.LGAService.getFarmerById(a);return e.farmer||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farmer"),a}finally{f(!1)}},[]),F=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.LGAService.createFarmer(a);return await h(),e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to create farmer"),a}finally{f(!1)}},[h]),S=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{await r.LGAService.updateFarmer(a,e),await h()}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to update farmer"),a}finally{f(!1)}},[h]),C=(0,t.useCallback)(async a=>{f(!0),v(null);try{await r.LGAService.deleteFarmer(a),s(e=>e.filter(e=>e.id!==a))}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to delete farmer"),a}finally{f(!1)}},[]),A=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.LGAService.getFarms(),e=a.data||a.farms||a||[];d(Array.isArray(e)?e:[])}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch farms"),d([]),t}finally{f(!1)}},[]),b=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.LGAService.getFarmById(a);return e.farm||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farm"),a}finally{f(!1)}},[]),k=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.LGAService.getFarmersFarms(a);return e.farms||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farmer farms"),a}finally{f(!1)}},[]),P=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.LGAService.createFarm(a);return await A(),e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to create farm"),a}finally{f(!1)}},[A]),I=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{await r.LGAService.updateFarm(a,e),await A()}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to update farm"),a}finally{f(!1)}},[A]),L=(0,t.useCallback)(async a=>{f(!0),v(null);try{await r.LGAService.deleteFarm(a),d(e=>e.filter(e=>e.id!==a))}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to delete farm"),a}finally{f(!1)}},[]),G=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.LGAService.sendCode(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to send code"),a}finally{f(!1)}},[]),E=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.LGAService.verifyCode(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to verify code"),a}finally{f(!1)}},[]),N=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.LGAService.verifyNin(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to verify NIN"),a}finally{f(!1)}},[]),T=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.LGAService.initializePayment(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to initialize payment"),a}finally{f(!1)}},[]),x=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{return await r.LGAService.verifyPayment(a,e)}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to verify payment"),a}finally{f(!1)}},[]);return(0,e.jsx)(l.Provider,{value:{farmers:i,farms:o,dashboard:c,loading:m,error:y,fetchDashboard:w,fetchFarmers:h,getFarmerById:p,createFarmer:F,updateFarmer:S,deleteFarmer:C,fetchFarms:A,getFarmById:b,getFarmersFarms:k,createFarm:P,updateFarm:I,deleteFarm:L,sendCode:G,verifyCode:E,verifyNin:N,initailizePayment:T,verifyPayment:x,clearError:g},children:n})},i=()=>{let a=(0,t.useContext)(l);if(!a)throw Error("useLGA must be used within an LGAProvider");return a}},38779,a=>{"use strict";a.s(["AdminService",()=>t]);var e=a.i(89699);let t={getDashboard:async()=>(await e.default.get("/admin/dashboard")).data,createFarmer:async a=>(await e.default.post("/admin/create-farmer",a)).data,getFarmers:async()=>(await e.default.get("/admin/farmer/list-farmers")).data,getFarmerById:async a=>(await e.default.get("/admin/farmer/get-farmer?farmer_id=".concat(a))).data,sendCode:async a=>(await e.default.post("/admin/send-code",a)).data,verifyCode:async a=>(await e.default.post("/admin/verify-code",a)).data,verifyNin:async a=>(await e.default.post("/admin/verify-nin",a)).data,uploadProfileImage:async a=>(await e.default.post("/admin/upload-profile-image",a,{headers:{"Content-Type":"multipart/form-data"}})).data,UploadProofOfAddress:async a=>(await e.default.post("/admin/upload-proof-of-address",a,{headers:{"Content-Type":"multipart/form-data"}})).data,getBanks:async()=>(await e.default.get("/banks")).data,updateFarmer:async(a,t)=>(await e.default.put("/admin/farmer/update-farmer?id=".concat(a),t)).data,deleteFarmer:async a=>(await e.default.delete("/admin/farmers/".concat(a))).data,getFarms:async()=>(await e.default.get("/admin/farm/list-farms")).data,createFarm:async a=>(await e.default.post("/admin/farm/create-farm",a)).data,deleteFarm:async a=>(await e.default.delete("/admin/delete-farm?farm_id=".concat(a))).data,updateFarm:async(a,t)=>(await e.default.put("/admin/farm/update-farm?farm_id=".concat(a),t)).data,getFarmById:async a=>(await e.default.get("/admin/get-farm?farm_id=".concat(a))).data,getFarmersFarms:async a=>(await e.default.get("/admin/farmers-farms?farmer_id=".concat(a))).data,initializePayment:async a=>{console.log("=== PAYMENT INITIALIZATION DEBUG ==="),console.log("1. Data received by service:",a),console.log("2. Data stringified:",JSON.stringify(a));try{let t=await e.default.post("/admin/initialize-payment",a);return console.log("3. Full response received:",t),console.log("4. Response data:",t.data),t.data}catch(a){var t,r;throw console.error("4. Error caught in service:",a),console.error("5. Error response data:",null==(t=a.response)?void 0:t.data),console.error("6. Error request data:",null==(r=a.config)?void 0:r.data),a}},verifyPayment:async(a,t)=>(await e.default.get("/admin/verify-payment?trxref=".concat(a,"&reference=").concat(t))).data,getPaymentRevenue:async()=>(await e.default.get("/admin/payment/revenue")).data,listPayments:async()=>(await e.default.get("/admin/payment/list-payments")).data}},40383,a=>{"use strict";a.s(["AdminProvider",()=>n,"useAdmin",()=>i]);var e=a.i(43476),t=a.i(71645),r=a.i(38779);let l=(0,t.createContext)(void 0),n=a=>{let{children:n}=a,[i,s]=(0,t.useState)([]),[o,d]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[m,f]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),g=(0,t.useCallback)(()=>v(null),[]),w=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.AdminService.getDashboard();u(a.data||a)}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch dashboard data"),t}finally{f(!1)}},[]),h=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.AdminService.getFarmers(),e=(null==a?void 0:a.data)||[];s(e)}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch farmers"),t}finally{f(!1)}},[]),p=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.AdminService.getFarmerById(a);return e.farmer||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farmer"),a}finally{f(!1)}},[]),F=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.AdminService.createFarmer(a);return await h(),e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to create farmer"),a}finally{f(!1)}},[h]),S=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{await r.AdminService.updateFarmer(a,e),await h()}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to update farmer"),a}finally{f(!1)}},[h]),C=(0,t.useCallback)(async a=>{f(!0),v(null);try{await r.AdminService.deleteFarmer(a),s(e=>e.filter(e=>e.id!==a))}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to delete farmer"),a}finally{f(!1)}},[]),A=(0,t.useCallback)(async()=>{f(!0),v(null);try{let a=await r.AdminService.getFarms(),e=a.data||a.farms||a||[];d(Array.isArray(e)?e:[])}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch farms"),d([]),t}finally{f(!1)}},[]),b=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.AdminService.getFarmById(a);return e.farm||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farm"),a}finally{f(!1)}},[]),k=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.AdminService.getFarmersFarms(a);return e.farms||e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to fetch farmer farms"),a}finally{f(!1)}},[]),P=(0,t.useCallback)(async a=>{f(!0),v(null);try{let e=await r.AdminService.createFarm(a);return await A(),e}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to create farm"),a}finally{f(!1)}},[A]),I=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{await r.AdminService.updateFarm(a,e),await A()}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to update farm"),a}finally{f(!1)}},[A]),L=(0,t.useCallback)(async a=>{f(!0),v(null);try{await r.AdminService.deleteFarm(a),d(e=>e.filter(e=>e.id!==a))}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to delete farm"),a}finally{f(!1)}},[]),G=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.AdminService.sendCode(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to send code"),a}finally{f(!1)}},[]),E=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.AdminService.verifyCode(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to verify code"),a}finally{f(!1)}},[]),N=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.AdminService.verifyNin(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to verify NIN"),a}finally{f(!1)}},[]),T=(0,t.useCallback)(async a=>{f(!0),v(null);try{return await r.AdminService.initializePayment(a)}catch(a){var e,t;throw v((null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to initialize payment"),a}finally{f(!1)}},[]),x=(0,t.useCallback)(async(a,e)=>{f(!0),v(null);try{return await r.AdminService.verifyPayment(a,e)}catch(a){var t,l;throw v((null==(l=a.response)||null==(t=l.data)?void 0:t.message)||"Failed to verify payment"),a}finally{f(!1)}},[]),_=(0,t.useCallback)(async()=>{f(!0),v(null);try{return await r.AdminService.getPaymentRevenue()}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch payment revenue"),t}finally{f(!1)}},[]),U=(0,t.useCallback)(async()=>{f(!0),v(null);try{return await r.AdminService.listPayments()}catch(t){var a,e;throw v((null==(e=t.response)||null==(a=e.data)?void 0:a.message)||"Failed to fetch payments list"),t}finally{f(!1)}},[]);return(0,e.jsx)(l.Provider,{value:{farmers:i,farms:o,dashboard:c,loading:m,error:y,fetchDashboard:w,fetchFarmers:h,getFarmerById:p,createFarmer:F,updateFarmer:S,deleteFarmer:C,fetchFarms:A,getFarmById:b,getFarmersFarms:k,createFarm:P,updateFarm:I,deleteFarm:L,sendCode:G,verifyCode:E,verifyNin:N,initailizePayment:T,verifyPayment:x,getPaymentRevenue:_,listPayments:U,clearError:g},children:n})},i=()=>{let a=(0,t.useContext)(l);if(!a)throw Error("useAdmin must be used within an AdminProvider");return a}},39946,26005,34093,70292,62351,a=>{"use strict";function e(a,e,t){if(!e.has(a))throw TypeError("attempted to "+t+" private field on non-instance");return e.get(a)}function t(a,t){var r=e(a,t,"get");return r.get?r.get.call(a):r.value}function r(a,e){if(e.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(a,e,t){r(a,e),e.set(a,t)}function n(a,t,r){var l=e(a,t,"set");if(l.set)l.set.call(a,r);else{if(!l.writable)throw TypeError("attempted to set read only private field");l.value=r}return r}a.s(["_",()=>t],39946),a.s(["_",()=>e],26005),a.s(["_",()=>l],70292),a.s(["_",()=>r],34093),a.s(["_",()=>n],62351)}]);