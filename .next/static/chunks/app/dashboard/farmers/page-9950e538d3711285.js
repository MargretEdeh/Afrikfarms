(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{5917:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},11010:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},23664:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},27937:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},38162:(e,t,r)=>{"use strict";r.d(t,{C1:()=>w,bL:()=>j});var a=r(12115),s=r(94446),n=r(3468),l=r(92556),i=r(23558),o=r(78108),d=r(84288),c=r(76842),m=r(97602),u=r(95155),x="Checkbox",[h,p]=(0,n.A)(x),[f,y]=h(x);function g(e){let{__scopeCheckbox:t,checked:r,children:s,defaultChecked:n,disabled:l,form:o,name:d,onCheckedChange:c,required:m,value:h="on",internal_do_not_use_render:p}=e,[y,g]=(0,i.i)({prop:r,defaultProp:null!=n&&n,onChange:c,caller:x}),[b,v]=a.useState(null),[j,k]=a.useState(null),w=a.useRef(!1),N=!b||!!o||!!b.closest("form"),A={checked:y,disabled:l,setChecked:g,control:b,setControl:v,name:d,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!C(n)&&n,isFormControl:N,bubbleInput:j,setBubbleInput:k};return(0,u.jsx)(f,{scope:t,...A,children:"function"==typeof p?p(A):s})}var b="CheckboxTrigger",v=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,onKeyDown:n,onClick:i,...o}=e,{control:d,value:c,disabled:x,checked:h,required:p,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:j,bubbleInput:k}=y(b,r),w=(0,s.s)(t,f),N=a.useRef(h);return a.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let t=()=>g(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,u.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":p,"data-state":F(h),"data-disabled":x?"":void 0,disabled:x,value:c,...o,ref:w,onKeyDown:(0,l.mK)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.mK)(i,e=>{g(e=>!!C(e)||!e),k&&j&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});v.displayName=b;var j=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:s,defaultChecked:n,required:l,disabled:i,value:o,onCheckedChange:d,form:c,...m}=e;return(0,u.jsx)(g,{__scopeCheckbox:r,checked:s,defaultChecked:n,disabled:i,required:l,onCheckedChange:d,name:a,form:c,value:o,internal_do_not_use_render:e=>{let{isFormControl:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v,{...m,ref:t,__scopeCheckbox:r}),a&&(0,u.jsx)(A,{__scopeCheckbox:r})]})}})});j.displayName=x;var k="CheckboxIndicator",w=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...s}=e,n=y(k,r);return(0,u.jsx)(c.C,{present:a||C(n.checked)||!0===n.checked,children:(0,u.jsx)(m.sG.span,{"data-state":F(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=k;var N="CheckboxBubbleInput",A=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,...n}=e,{control:l,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:x,required:h,disabled:p,name:f,value:g,form:b,bubbleInput:v,setBubbleInput:j}=y(N,r),k=(0,s.s)(t,j),w=(0,o.Z)(c),A=(0,d.X)(l);a.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(w!==c&&e){let r=new Event("click",{bubbles:t});v.indeterminate=C(c),e.call(v,!C(c)&&c),v.dispatchEvent(r)}},[v,w,c,i]);let F=a.useRef(!C(c)&&c);return(0,u.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=x?x:F.current,required:h,disabled:p,name:f,value:g,form:b,...n,tabIndex:-1,ref:k,style:{...n.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function F(e){return C(e)?"indeterminate":e?"checked":"unchecked"}A.displayName=N},68828:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),s=r(12115),n=r(6191),l=r(66955),i=r(35299),o=r(80501),d=r(18720),c=r(48465),m=r(83685),u=r(68063);function x(e){let{onAddFarmer:t}=e,[r,x]=(0,s.useState)("all"),[h,p]=(0,s.useState)(!1),[f,y]=(0,s.useState)([]),[g,b]=(0,s.useState)(!0),[v,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{w()},[]);let k=e=>({id:"FRM".concat(String(e.id).padStart(4,"0")),name:e.fullname,email:e.email,phone:e.phone_number,farmSize:"N/A",registrationDate:new Date(e.createdAt).toLocaleDateString(),status:e.status.toLowerCase(),nin:e.nin,address:e.address,state:"",lga:"",photoUrl:"noimage.jpg"!==e.profile_image?e.profile_image:void 0}),w=async()=>{b(!0),j(null);try{let e=await c._.getFarmers(),t=((null==e?void 0:e.data)||[]).map(k);y(t)}catch(r){var e,t;j((null==r||null==(t=r.response)||null==(e=t.data)?void 0:e.message)||"Failed to load farmers"),console.error("Failed to fetch farmers:",r)}finally{b(!1)}},N=async e=>{try{t&&await t(e),d.oR.success("Farmer registered successfully"),p(!1),await w()}catch(e){throw d.oR.error("Failed to register farmer. Please try again."),e}},A="all"===r?f:f.filter(e=>e.status===r);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Farmer Management"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Manage and onboard farmers in your LGA"})]}),(0,a.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary text-white px-6 py-3 rounded-xl font-medium transition-colors shadow-lg shadow-primary/30",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Add New Farmer"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"relative flex-1",children:(0,a.jsx)("input",{type:"text",placeholder:"Search farmers by name, ID, or phone...",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("select",{value:r,onChange:e=>x(e.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Farmers"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"})]})]})]}),g?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Loading farmers..."})]})}):v?(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Failed to Load Farmers"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:v})]}),(0,a.jsx)("button",{onClick:w,className:"mt-4 px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Try Again"})]}):0===A.length?(0,a.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"all"===r?"No Farmers Yet":"No ".concat(r.charAt(0).toUpperCase()+r.slice(1)," Farmers")}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"all"===r?"Get started by adding your first farmer to the system":"There are no ".concat(r," farmers at the moment")}),"all"===r?(0,a.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-emerald-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Add Your First Farmer"]}):(0,a.jsx)("button",{onClick:()=>x("all"),className:"inline-flex items-center gap-2 bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium transition-colors",children:"View All Farmers"})]}):(0,a.jsx)(m.A,{farmers:A,onView:e=>{console.log("View farmer:",e)},onEdit:e=>{console.log("Edit farmer:",e)}})]}),(0,a.jsx)(u.A,{open:h,onClose:()=>p(!1),onSubmit:N})]})}function h(){let e=async e=>{console.log("Add new farmer",e)};return(0,a.jsx)(x,{onAddFarmer:e})}},69141:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},80501:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},82672:(e,t,r)=>{Promise.resolve().then(r.bind(r,68828))},90368:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}},e=>{e.O(0,[125,779,411,721,893,160,441,255,358],()=>e(e.s=82672)),_N_E=e.O()}]);