(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7670,e=>{"use strict";function t(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=function e(t){var a,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(a=0;a<s;a++)t[a]&&(r=e(t[a]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(r&&(r+=" "),r+=t);return r}e.s(["clsx",()=>t])},67881,20783,91918,25913,e=>{"use strict";e.s(["Button",()=>g],67881);var t=e.i(43476);e.s(["Slot",()=>i,"createSlot",()=>l],91918);var a=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1,n=t.map(t=>{let n=r(t,e);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let e=0;e<n.length;e++){let a=n[e];"function"==typeof a?a():r(t[e],null)}}}}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.useCallback(n(...t),t)}function l(e){let r=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var l,i,o;let e,d,c=(d=(e=null==(i=Object.getOwnPropertyDescriptor((l=r).props,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(d=(e=null==(o=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,u=function(e,t){let a={...t};for(let r in t){let n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?a[r]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=s(...t);return n(...t),r}:n&&(a[r]=n):"style"===r?a[r]={...n,...s}:"className"===r&&(a[r]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}(s,r.props);return r.type!==a.Fragment&&(u.ref=t?n(t,c):c),a.cloneElement(r,u)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),s=a.forwardRef((e,n)=>{let{children:s,...l}=e,i=a.Children.toArray(s),o=i.find(d);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(r,{...l,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(r,{...l,ref:n,children:s})});return s.displayName="".concat(e,".Slot"),s}e.s(["composeRefs",()=>n,"useComposedRefs",()=>s],20783);var i=l("Slot"),o=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}e.s(["cva",()=>p],25913);var c=e.i(7670);let u=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,m=c.clsx,p=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return m(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:n,defaultVariants:s}=t,l=Object.keys(n).map(e=>{let t=null==a?void 0:a[e],r=null==s?void 0:s[e];if(null===t)return null;let l=u(t)||u(r);return n[e][l]}),i=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return m(e,l,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:a,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...s,...i}[t]):({...s,...i})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)};var x=e.i(47163);let h=p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function g(e){let{className:a,variant:r,size:n,asChild:s=!1,...l}=e;return(0,t.jsx)(s?i:"button",{"data-slot":"button",className:(0,x.cn)(h({variant:r,size:n,className:a})),...l})}},23750,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(43476),a=e.i(47163);function r(e){let{className:r,type:n,...s}=e;return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...s})}},48425,e=>{"use strict";e.s(["Primitive",()=>s,"dispatchDiscreteCustomEvent",()=>l]);var t=e.i(71645),a=e.i(74080),r=e.i(91918),n=e.i(43476),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,r.createSlot)("Primitive.".concat(a)),l=t.forwardRef((e,t)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?s:a,{...l,ref:t})});return l.displayName="Primitive.".concat(a),{...e,[a]:l}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},10708,e=>{"use strict";e.s(["Label",()=>l],10708);var t=e.i(43476),a=e.i(71645),r=e.i(48425),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(47163);function l(e){let{className:a,...r}=e;return(0,t.jsx)(n,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}},47615,e=>{"use strict";e.s(["Filter",()=>t],47615);let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},37727,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(41947)},73884,e=>{"use strict";e.s(["XCircle",()=>t],73884);let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},67056,e=>{"use strict";e.s(["default",()=>w],67056);var t=e.i(43476),a=e.i(71645),r=e.i(47615),n=e.i(7233),s=e.i(86536),l=e.i(95468),i=e.i(73884);function o(e){let{loans:a,onView:r,onApprove:n,onReject:o}=e;return(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Loan ID"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Farmer"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Loan Type"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Crop"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:a.map(e=>{let a;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-6 text-sm font-mono text-gray-900",children:e.id}),(0,t.jsx)("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:e.farmerName}),(0,t.jsx)("td",{className:"py-4 px-6 text-sm font-bold text-gray-900",children:(a=e.amount,new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(a))}),(0,t.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.loanType}),(0,t.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.cropType}),(0,t.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.applicationDate}),(0,t.jsx)("td",{className:"py-4 px-6",children:(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"approved":return"bg-emerald-100 text-emerald-700";case"pending":return"bg-amber-100 text-amber-700";case"rejected":return"bg-red-100 text-red-700";case"disbursed":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}})(e.status)),children:e.status})}),(0,t.jsx)("td",{className:"py-4 px-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>r(e),className:"p-2 hover:bg-blue-50 text-gray-600 hover:text-blue-600 rounded-lg transition-colors",title:"View Details",children:(0,t.jsx)(s.Eye,{className:"w-4 h-4"})}),"pending"===e.status&&n&&o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>n(e),className:"p-2 hover:bg-emerald-50 text-gray-600 hover:text-emerald-600 rounded-lg transition-colors",title:"Approve",children:(0,t.jsx)(l.CheckCircle2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>o(e),className:"p-2 hover:bg-red-50 text-gray-600 hover:text-red-600 rounded-lg transition-colors",title:"Reject",children:(0,t.jsx)(i.XCircle,{className:"w-4 h-4"})})]})]})})]},e.id)})})]})})})}var d=e.i(37727),c=e.i(69074),u=e.i(63209),m=e.i(67881),p=e.i(23750),x=e.i(10708),h=e.i(47163);function g(e){let{className:a,...r}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,h.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}let b=["Input Financing","Equipment Purchase","Farm Expansion","Working Capital","Harvest Financing","Infrastructure Development"],f=["Rice","Maize","Cassava","Yam","Sorghum","Millet","Beans","Groundnut","Vegetables","Other"],v=["Access Bank","Zenith Bank","GTBank","First Bank","UBA","Ecobank","Fidelity Bank","Union Bank","Stanbic IBTC","Sterling Bank","Wema Bank","Polaris Bank","Keystone Bank","FCMB","Heritage Bank","Jaiz Bank","Providus Bank","Kuda Bank","Opay","Palmpay"];function y(e){let{open:r,onClose:n,onSubmit:s,farmerName:l}=e,[i,o]=(0,a.useState)(1),[h,y]=(0,a.useState)(!1),[N,j]=(0,a.useState)({}),[k,w]=(0,a.useState)({loanType:"",cropType:"",amount:"",estimatedReturn:"",bvn:"",bankName:"",accountNumber:"",guarantorName:"",guarantorPhone:"",guarantorAddress:""}),[A,C]=(0,a.useState)({});if(!r)return null;let F=(e,t)=>{w(a=>({...a,[e]:t})),N[e]&&j(t=>({...t,[e]:""}))},T=(e,t)=>{let a=new FileReader;a.onloadend=()=>{C(t=>({...t,[e]:a.result})),w(a=>({...a,[e]:t}))},a.readAsDataURL(t)},B=async()=>{if((()=>{let e={};return k.guarantorName||(e.guarantorName="Guarantor name is required"),k.guarantorPhone||(e.guarantorPhone="Guarantor phone is required"),k.guarantorPhone&&11!==k.guarantorPhone.length&&(e.guarantorPhone="Phone number must be 11 digits"),k.guarantorAddress||(e.guarantorAddress="Guarantor address is required"),j(e),0===Object.keys(e).length})()){y(!0);try{await s(k),R()}catch(e){console.error("Error submitting loan application:",e)}finally{y(!1)}}},R=()=>{o(1),w({loanType:"",cropType:"",amount:"",estimatedReturn:"",bvn:"",bankName:"",accountNumber:"",guarantorName:"",guarantorPhone:"",guarantorAddress:""}),C({}),j({}),y(!1),n()};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Apply for Loan"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Farmer: ",l]})]}),(0,t.jsx)("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:h,children:(0,t.jsx)(d.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Step ",i," of 3"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[1===i&&"Loan Details",2===i&&"Financial Information",3===i&&"Guarantor Details"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-2 flex-1 rounded-full transition-colors ".concat(e<=i?"bg-emerald-500":"bg-gray-200")},e))})]}),(0,t.jsxs)("div",{className:"px-6 py-6",children:[1===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"loanType",children:["Loan Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"loanType",value:k.loanType,onChange:e=>F("loanType",e.target.value),className:"w-full mt-1.5 px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 ".concat(N.loanType?"border-red-500":"border-gray-200"),children:[(0,t.jsx)("option",{value:"",children:"Select loan type"}),b.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),N.loanType&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.loanType]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"cropType",children:["Crop Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"cropType",value:k.cropType,onChange:e=>F("cropType",e.target.value),className:"w-full mt-1.5 px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 ".concat(N.cropType?"border-red-500":"border-gray-200"),children:[(0,t.jsx)("option",{value:"",children:"Select crop type"}),f.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),N.cropType&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.cropType]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"amount",children:["Loan Amount (₦) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"amount",type:"number",placeholder:"e.g., 500000",value:k.amount,onChange:e=>F("amount",e.target.value),className:N.amount?"border-red-500":""}),N.amount&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.amount]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"estimatedReturn",children:["Estimated Return at Harvest (₦) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"estimatedReturn",type:"number",placeholder:"e.g., 750000",value:k.estimatedReturn,onChange:e=>F("estimatedReturn",e.target.value),className:N.estimatedReturn?"border-red-500":""}),N.estimatedReturn&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.estimatedReturn]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Expected revenue from harvest"})]})]}),2===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"bvn",children:["Bank Verification Number (BVN) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"bvn",type:"text",maxLength:11,placeholder:"Enter 11-digit BVN",value:k.bvn,onChange:e=>F("bvn",e.target.value.replace(/\D/g,"")),className:N.bvn?"border-red-500":""}),N.bvn&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.bvn]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Required for financial profiling"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Label,{htmlFor:"bvnDocument",children:"BVN Document (Optional)"}),(0,t.jsx)("div",{className:"mt-1.5",children:(0,t.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 cursor-pointer transition-colors",children:[(0,t.jsx)(c.Upload,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:A.bvnDocument?"Document uploaded":"Upload BVN document"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var t;return(null==(t=e.target.files)?void 0:t[0])&&T("bvnDocument",e.target.files[0])}})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"bankName",children:["Bank Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"bankName",value:k.bankName,onChange:e=>F("bankName",e.target.value),className:"w-full mt-1.5 px-4 py-3 bg-white border rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 ".concat(N.bankName?"border-red-500":"border-gray-200"),children:[(0,t.jsx)("option",{value:"",children:"Select your bank"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),N.bankName&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.bankName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"accountNumber",children:["Account Number ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"accountNumber",type:"text",maxLength:10,placeholder:"Enter 10-digit account number",value:k.accountNumber,onChange:e=>F("accountNumber",e.target.value.replace(/\D/g,"")),className:N.accountNumber?"border-red-500":""}),N.accountNumber&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.accountNumber]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Label,{htmlFor:"bankStatement",children:"Bank Statement (Optional)"}),(0,t.jsx)("div",{className:"mt-1.5",children:(0,t.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 cursor-pointer transition-colors",children:[(0,t.jsx)(c.Upload,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:A.bankStatement?"Statement uploaded":"Upload bank statement"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:".pdf",onChange:e=>{var t;return(null==(t=e.target.files)?void 0:t[0])&&T("bankStatement",e.target.files[0])}})]})})]})]}),3===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4",children:(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"A guarantor is required for loan approval. Please provide details of someone who can vouch for your loan repayment."})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"guarantorName",children:["Guarantor Full Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"guarantorName",type:"text",placeholder:"Enter guarantor's full name",value:k.guarantorName,onChange:e=>F("guarantorName",e.target.value),className:N.guarantorName?"border-red-500":""}),N.guarantorName&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.guarantorName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"guarantorPhone",children:["Guarantor Phone Number ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(p.Input,{id:"guarantorPhone",type:"text",maxLength:11,placeholder:"e.g., 08012345678",value:k.guarantorPhone,onChange:e=>F("guarantorPhone",e.target.value.replace(/\D/g,"")),className:N.guarantorPhone?"border-red-500":""}),N.guarantorPhone&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.guarantorPhone]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Label,{htmlFor:"guarantorAddress",children:["Guarantor Address ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(g,{id:"guarantorAddress",placeholder:"Enter guarantor's full address",value:k.guarantorAddress,onChange:e=>F("guarantorAddress",e.target.value),className:N.guarantorAddress?"border-red-500":"",rows:3}),N.guarantorAddress&&(0,t.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,t.jsx)(u.AlertCircle,{className:"w-3 h-3"}),N.guarantorAddress]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Label,{htmlFor:"farmDocument",children:"Farm Document (Optional)"}),(0,t.jsx)("div",{className:"mt-1.5",children:(0,t.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 cursor-pointer transition-colors",children:[(0,t.jsx)(c.Upload,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:A.farmDocument?"Document uploaded":"Upload farm ownership document"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var t;return(null==(t=e.target.files)?void 0:t[0])&&T("farmDocument",e.target.files[0])}})]})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Land ownership or lease agreement"})]})]})]}),(0,t.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-100 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)(m.Button,{variant:"outline",onClick:1===i?R:()=>{o(e=>Math.max(1,e-1))},disabled:h,children:1===i?"Cancel":"Back"}),i<3?(0,t.jsx)(m.Button,{onClick:()=>{1===i&&(()=>{let e={};return k.loanType||(e.loanType="Please select a loan type"),k.cropType||(e.cropType="Please select a crop type"),k.amount||(e.amount="Please enter loan amount"),k.amount&&0>=Number.parseFloat(k.amount)&&(e.amount="Amount must be greater than 0"),k.estimatedReturn||(e.estimatedReturn="Please enter estimated return"),k.estimatedReturn&&0>=Number.parseFloat(k.estimatedReturn)&&(e.estimatedReturn="Estimated return must be greater than 0"),j(e),0===Object.keys(e).length})()?o(2):2===i&&(()=>{let e={};return k.bvn||(e.bvn="BVN is required"),k.bvn&&11!==k.bvn.length&&(e.bvn="BVN must be 11 digits"),k.bankName||(e.bankName="Please select your bank"),k.accountNumber||(e.accountNumber="Account number is required"),k.accountNumber&&10!==k.accountNumber.length&&(e.accountNumber="Account number must be 10 digits"),j(e),0===Object.keys(e).length})()&&o(3)},disabled:h,children:"Next"}):(0,t.jsx)(m.Button,{onClick:B,disabled:h,children:h?"Submitting...":"Submit Application"})]})]})})}var N=e.i(46696);function j(e){let{loans:s,farmerName:l="Current Farmer",farmerId:i="FM-001",isAdmin:d=!1}=e,[c,u]=(0,a.useState)("all"),[p,x]=(0,a.useState)(s),[h,g]=(0,a.useState)(!1),b=async e=>{await new Promise(e=>setTimeout(e,1e3));let t={id:"LN-".concat(Date.now()),farmerId:i,farmerName:l,loanType:e.loanType,cropType:e.cropType,amount:Number.parseFloat(e.amount),estimatedReturn:Number.parseFloat(e.estimatedReturn),applicationDate:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),status:"pending",bvn:e.bvn,bankName:e.bankName,accountNumber:e.accountNumber,guarantor:{name:e.guarantorName,phone:e.guarantorPhone,address:e.guarantorAddress}};x(e=>[t,...e]),N.toast.success("Loan application submitted successfully"),g(!1)},f="all"===c?p:p.filter(e=>e.status===c);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:d?"Loan Applications":"My Loan Applications"}),(0,t.jsx)("p",{className:"text-gray-500",children:d?"Review and process farmer loan requests":"View and manage your loan applications"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[!d&&(0,t.jsxs)(m.Button,{onClick:()=>g(!0),className:"gap-2",children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4"}),"Apply for Loan"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Filter,{className:"w-5 h-5 text-gray-400"}),(0,t.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Applications"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"approved",children:"Approved"}),(0,t.jsx)("option",{value:"disbursed",children:"Disbursed"}),(0,t.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]})]}),(0,t.jsx)(o,{loans:f,onView:e=>{console.log("View loan:",e)},onApprove:d?e=>{x(t=>t.map(t=>t.id===e.id?{...t,status:"approved"}:t)),N.toast.success("Loan ".concat(e.id," approved successfully"))}:void 0,onReject:d?e=>{x(t=>t.map(t=>t.id===e.id?{...t,status:"rejected"}:t)),N.toast.error("Loan ".concat(e.id," rejected"))}:void 0}),(0,t.jsx)(y,{open:h,onClose:()=>g(!1),onSubmit:b,farmerName:l})]})}let k=[{id:"LN-2024-001",farmerId:"FM-2023-7890",farmerName:"Musa Abdullahi",loanType:"Input Financing",cropType:"Rice",amount:5e5,estimatedReturn:75e4,applicationDate:"15 Jan 2024",status:"approved",bvn:"12345678901",bankName:"Access Bank",accountNumber:"0123456789",guarantor:{name:"Ibrahim Sani",phone:"08098765432",address:"Kubwa District, Bwari LGA"}},{id:"LN-2024-002",farmerId:"FM-2023-7891",farmerName:"Aisha Bello",loanType:"Equipment Purchase",cropType:"Maize",amount:75e4,estimatedReturn:12e5,applicationDate:"20 Jan 2024",status:"pending",bvn:"98765432109",bankName:"GTBank",accountNumber:"9876543210",guarantor:{name:"Fatima Yusuf",phone:"08087654321",address:"Bwari Central"}},{id:"LN-2024-003",farmerId:"FM-2023-7892",farmerName:"Yusuf Sani",loanType:"Farm Expansion",cropType:"Cassava",amount:1e6,estimatedReturn:18e5,applicationDate:"25 Jan 2024",status:"disbursed",bvn:"11223344556",bankName:"Zenith Bank",accountNumber:"1122334455",guarantor:{name:"Mohammed Ali",phone:"08076543210",address:"Ushafa Village"}},{id:"LN-2024-004",farmerId:"FM-2023-7893",farmerName:"Fatima Ibrahim",loanType:"Working Capital",cropType:"Vegetables",amount:3e5,estimatedReturn:5e5,applicationDate:"28 Jan 2024",status:"pending",bvn:"22334455667",bankName:"First Bank",accountNumber:"2233445566",guarantor:{name:"Aisha Mohammed",phone:"08065432109",address:"Dutse Alhaji"}},{id:"LN-2024-005",farmerId:"FM-2023-7894",farmerName:"Ibrahim Musa",loanType:"Harvest Financing",cropType:"Yam",amount:6e5,estimatedReturn:95e4,applicationDate:"02 Feb 2024",status:"rejected",bvn:"33445566778",bankName:"UBA",accountNumber:"3344556677",guarantor:{name:"Yusuf Ibrahim",phone:"08054321098",address:"Kubwa Extension"}}];function w(){return(0,t.jsx)(j,{loans:k})}}]);