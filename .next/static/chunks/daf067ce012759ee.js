(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>t],31278);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68160,e=>{"use strict";e.s(["default",()=>c],68160);var t=e.i(43476),a=e.i(71645),s=e.i(38779),r=e.i(31278);let l=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var d=e.i(63209);function c(){let[e,c]=(0,a.useState)(0),[n,i]=(0,a.useState)([]),[x,m]=(0,a.useState)({total:0,page:1,limit:50}),[o,h]=(0,a.useState)(!0),[p,y]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b()},[]);let b=async()=>{h(!0),y(null);try{let[e,t]=await Promise.all([s.AdminService.getPaymentRevenue(),s.AdminService.listPayments()]);c(e.data.totalRevenue),i(t.data),m(t.meta)}catch(a){var e,t;y((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to load data"),console.error("Fetch error:",a)}finally{h(!1)}},j=async()=>{g(!0),await b(),g(!1)},N=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e);return o?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,t.jsx)(r.Loader2,{className:"w-12 h-12 animate-spin text-emerald-600"})}):p?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center max-w-md",children:[(0,t.jsx)(d.AlertCircle,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Data"}),(0,t.jsx)("p",{className:"text-sm text-red-600 mb-4",children:p}),(0,t.jsx)("button",{onClick:b,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments & Revenue"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Track all payment transactions and revenue"})]}),(0,t.jsxs)("button",{onClick:j,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-white border rounded-lg disabled:opacity-50",children:[(0,t.jsx)(l,{className:"w-4 h-4 ".concat(u?"animate-spin":"")}),"Refresh"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl p-6 text-white shadow-lg",children:[(0,t.jsx)("p",{className:"text-emerald-100 text-sm mb-1",children:"Total Revenue"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:N(e)})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Total Transactions"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:x.total})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Average Payment"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N(x.total?e/x.total:0)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Farmer"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Phone"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Reference"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:"Date"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:n.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.farmer.fullname}),(0,t.jsx)("td",{className:"px-6 py-4 font-semibold",children:N(e.amount)}),(0,t.jsx)("td",{className:"px-6 py-4 font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-6 py-4 font-mono",children:e.payment_reference}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat((e=>{switch(e.toLowerCase()){case"paid":return"bg-green-100 text-green-700";case"pending":return"bg-amber-100 text-amber-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}})(e.status)),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-500",children:new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},e.id))})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t text-sm text-gray-500",children:["Showing ",n.length," of ",x.total," transactions"]})]})]})})}}]);