(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>t],31278);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},30374,96626,e=>{"use strict";e.s(["Dialog",()=>Q,"DialogContent",()=>et,"DialogHeader",()=>ea,"DialogTitle",()=>es],30374);var t=e.i(43476),a=e.i(71645),s=e.i(81140),r=e.i(20783),n=e.i(30030),l=e.i(10772),i=e.i(69340),o=e.i(26330),d=e.i(65491),c=e.i(74606);e.s(["Presence",()=>m],96626);var u=e.i(34620),m=e=>{let{present:t,children:s}=e,n=function(e){var t,s;let[r,n]=a.useState(),l=a.useRef(null),i=a.useRef(e),o=a.useRef("none"),[d,c]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>{let a=s[e][t];return null!=a?a:e},t));return a.useEffect(()=>{let e=p(l.current);o.current="mounted"===d?e:"none"},[d]),(0,u.useLayoutEffect)(()=>{let t=l.current,a=i.current;if(a!==e){let s=o.current,r=p(t);e?c("MOUNT"):"none"===r||(null==t?void 0:t.display)==="none"?c("UNMOUNT"):a&&s!==r?c("ANIMATION_OUT"):c("UNMOUNT"),i.current=e}},[e,c]),(0,u.useLayoutEffect)(()=>{if(r){var e;let t,a=null!=(e=r.ownerDocument.defaultView)?e:window,s=e=>{let s=p(l.current).includes(CSS.escape(e.animationName));if(e.target===r&&s&&(c("ANIMATION_END"),!i.current)){let e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=a.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},n=e=>{e.target===r&&(o.current=p(l.current))};return r.addEventListener("animationstart",n),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{a.clearTimeout(t),r.removeEventListener("animationstart",n),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(e=>{l.current=e?getComputedStyle(e):null,n(e)},[])}}(t),l="function"==typeof s?s({present:n.isPresent}):a.Children.only(s),i=(0,r.useComposedRefs)(n.ref,function(e){var t,a;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(r=(s=null==(a=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:a.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(l));return"function"==typeof s||n.isPresent?a.cloneElement(l,{ref:i}):null};function p(e){return(null==e?void 0:e.animationName)||"none"}m.displayName="Presence";var x=e.i(48425),h=e.i(3536),f=e.i(85369),g=e.i(86312),v=e.i(91918),y="Dialog",[N,b]=(0,n.createContextScope)(y),[j,w]=N(y),k=e=>{let{__scopeDialog:s,children:r,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),m=a.useRef(null),[p,x]=(0,i.useControllableState)({prop:n,defaultProp:null!=o&&o,onChange:d,caller:y});return(0,t.jsx)(j,{scope:s,triggerRef:u,contentRef:m,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:p,onOpenChange:x,onOpenToggle:a.useCallback(()=>x(e=>!e),[x]),modal:c,children:r})};k.displayName=y;var C="DialogTrigger";a.forwardRef((e,a)=>{let{__scopeDialog:n,...l}=e,i=w(C,n),o=(0,r.useComposedRefs)(a,i.triggerRef);return(0,t.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q(i.open),...l,ref:o,onClick:(0,s.composeEventHandlers)(e.onClick,i.onOpenToggle)})}).displayName=C;var P="DialogPortal",[I,D]=N(P,{forceMount:void 0}),O=e=>{let{__scopeDialog:s,forceMount:r,children:n,container:l}=e,i=w(P,s);return(0,t.jsx)(I,{scope:s,forceMount:r,children:a.Children.map(n,e=>(0,t.jsx)(m,{present:r||i.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:l,children:e})}))})};O.displayName=P;var E="DialogOverlay",R=a.forwardRef((e,a)=>{let s=D(E,e.__scopeDialog),{forceMount:r=s.forceMount,...n}=e,l=w(E,e.__scopeDialog);return l.modal?(0,t.jsx)(m,{present:r||l.open,children:(0,t.jsx)(F,{...n,ref:a})}):null});R.displayName=E;var A=(0,v.createSlot)("DialogOverlay.RemoveScroll"),F=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=w(E,s);return(0,t.jsx)(f.RemoveScroll,{as:A,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(x.Primitive.div,{"data-state":q(n.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),S="DialogContent",L=a.forwardRef((e,a)=>{let s=D(S,e.__scopeDialog),{forceMount:r=s.forceMount,...n}=e,l=w(S,e.__scopeDialog);return(0,t.jsx)(m,{present:r||l.open,children:l.modal?(0,t.jsx)(T,{...n,ref:a}):(0,t.jsx)(_,{...n,ref:a})})});L.displayName=S;var T=a.forwardRef((e,n)=>{let l=w(S,e.__scopeDialog),i=a.useRef(null),o=(0,r.useComposedRefs)(n,l.contentRef,i);return a.useEffect(()=>{let e=i.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(M,{...e,ref:o,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),_=a.forwardRef((e,s)=>{let r=w(S,e.__scopeDialog),n=a.useRef(!1),l=a.useRef(!1);return(0,t.jsx)(M,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(n.current||null==(s=r.triggerRef.current)||s.focus(),t.preventDefault()),n.current=!1,l.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let i=t.target;(null==(s=r.triggerRef.current)?void 0:s.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),M=a.forwardRef((e,s)=>{let{__scopeDialog:n,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=e,m=w(S,n),p=a.useRef(null),x=(0,r.useComposedRefs)(s,p);return(0,h.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:i,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...u,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J,{titleId:m.titleId}),(0,t.jsx)(Y,{contentRef:p,descriptionId:m.descriptionId})]})]})}),B="DialogTitle",U=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=w(B,s);return(0,t.jsx)(x.Primitive.h2,{id:n.titleId,...r,ref:a})});U.displayName=B;var z="DialogDescription";a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=w(z,s);return(0,t.jsx)(x.Primitive.p,{id:n.descriptionId,...r,ref:a})}).displayName=z;var G="DialogClose",H=a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,l=w(G,r);return(0,t.jsx)(x.Primitive.button,{type:"button",...n,ref:a,onClick:(0,s.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function q(e){return e?"open":"closed"}H.displayName=G;var K="DialogTitleWarning",[V,W]=(0,n.createContext)(K,{contentName:S,titleName:B,docsSlug:"dialog"}),J=e=>{let{titleId:t}=e,s=W(K),r="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Y=e=>{let{contentRef:t,descriptionId:s}=e,r=W("DialogDescriptionWarning"),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return a.useEffect(()=>{var e;let a=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},X=e.i(41947),X=X,Z=e.i(47163);function Q(e){let{...a}=e;return(0,t.jsx)(k,{"data-slot":"dialog",...a})}function $(e){let{...a}=e;return(0,t.jsx)(O,{"data-slot":"dialog-portal",...a})}function ee(e){let{className:a,...s}=e;return(0,t.jsx)(R,{"data-slot":"dialog-overlay",className:(0,Z.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function et(e){let{className:a,children:s,showCloseButton:r=!0,...n}=e;return(0,t.jsxs)($,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ee,{}),(0,t.jsxs)(L,{"data-slot":"dialog-content",className:(0,Z.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...n,children:[s,r&&(0,t.jsxs)(H,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(X.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ea(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,Z.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function es(e){let{className:a,...s}=e;return(0,t.jsx)(U,{"data-slot":"dialog-title",className:(0,Z.cn)("text-lg leading-none font-semibold",a),...s})}},63488,e=>{"use strict";e.s(["Mail",()=>t],63488);let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},69074,e=>{"use strict";e.s(["Upload",()=>t],69074);let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},43432,e=>{"use strict";e.s(["Phone",()=>t],43432);let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},98962,79259,66582,e=>{"use strict";e.s(["UserX",()=>a],98962);var t=e.i(75254);let a=(0,t.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["default",()=>u],79259);var s=e.i(43476),r=e.i(71645),n=e.i(86536);let l=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var i=e.i(63488),o=e.i(43432);let d=(0,t.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c=(0,t.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function u(e){let{farmers:t,onView:a,onEdit:u}=e,[m,p]=(0,r.useState)(1),x=Math.ceil(t.length/10),h=(m-1)*10,f=h+10,g=t.slice(h,f);return(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Farmer ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Farm Size"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Registration"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-4 px-6 text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:g.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"py-4 px-6 text-sm font-mono text-gray-900",children:e.id}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-emerald-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(o.Phone,{className:"w-3.5 h-3.5"}),e.phone]}),e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(i.Mail,{className:"w-3.5 h-3.5"}),e.email]})]})}),(0,s.jsx)("td",{className:"py-4 px-6 text-sm text-gray-900",children:e.farmSize}),(0,s.jsx)("td",{className:"py-4 px-6 text-sm text-gray-600",children:e.registrationDate}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-primary text-primary-foreground";case"pending":return"bg-amber-100 text-amber-700";case"inactive":default:return"bg-gray-100 text-gray-700";case"suspended":return"bg-red-100 text-red-700"}})(e.status)),children:e.status})}),(0,s.jsx)("td",{className:"py-4 px-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>a(e),className:"p-2 hover:bg-primary/10 text-gray-600 hover:text-primary rounded-lg transition-colors",title:"View Details",children:(0,s.jsx)(n.Eye,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>u(e),className:"p-2 hover:bg-blue-50 text-gray-600 hover:text-blue-600 rounded-lg transition-colors",title:"Edit",children:(0,s.jsx)(l,{className:"w-4 h-4"})})]})})]},e.id))})]})}),x>1&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",h+1," to ",Math.min(f,t.length)," of ",t.length," farmers"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{m>1&&p(m-1)},disabled:1===m,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Previous page",children:(0,s.jsx)(d,{className:"w-4 h-4"})}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(x<=5)for(let t=1;t<=x;t++)e.push(t);else if(m<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(x)}else if(m>=x-2){e.push(1),e.push("...");for(let t=x-3;t<=x;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=m-1;t<=m+1;t++)e.push(t);e.push("..."),e.push(x)}return e})().map((e,t)=>"..."===e?(0,s.jsx)("span",{className:"px-3 py-2 text-gray-400",children:"..."},"ellipsis-".concat(t)):(0,s.jsx)("button",{onClick:()=>{p(Math.max(1,Math.min(e,x)))},className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(m===e?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"),children:e},e))}),(0,s.jsx)("button",{onClick:()=>{m<x&&p(m+1)},disabled:m===x,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Next page",children:(0,s.jsx)(c,{className:"w-4 h-4"})})]})]})]})}e.s(["default",()=>X],66582);var m=e.i(78745),m=m,p=e.i(31278),x=e.i(69074),h=e.i(63209),f=e.i(30374),g=e.i(67881),v=e.i(23750),y=e.i(10708),N=e.i(20783),b=e.i(30030),j=e.i(81140),w=e.i(69340),k=e.i(99682),C=e.i(35804),P=e.i(96626),I=e.i(48425),D="Checkbox",[O,E]=(0,b.createContextScope)(D),[R,A]=O(D);function F(e){let{__scopeCheckbox:t,checked:a,children:n,defaultChecked:l,disabled:i,form:o,name:d,onCheckedChange:c,required:u,value:m="on",internal_do_not_use_render:p}=e,[x,h]=(0,w.useControllableState)({prop:a,defaultProp:null!=l&&l,onChange:c,caller:D}),[f,g]=r.useState(null),[v,y]=r.useState(null),N=r.useRef(!1),b=!f||!!o||!!f.closest("form"),j={checked:x,disabled:i,setChecked:h,control:f,setControl:g,name:d,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:!z(l)&&l,isFormControl:b,bubbleInput:v,setBubbleInput:y};return(0,s.jsx)(R,{scope:t,...j,children:"function"==typeof p?p(j):n})}var S="CheckboxTrigger",L=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,onKeyDown:n,onClick:l,...i}=e,{control:o,value:d,disabled:c,checked:u,required:m,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:h,isFormControl:f,bubbleInput:g}=A(S,a),v=(0,N.useComposedRefs)(t,p),y=r.useRef(u);return r.useEffect(()=>{let e=null==o?void 0:o.form;if(e){let t=()=>x(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,x]),(0,s.jsx)(I.Primitive.button,{type:"button",role:"checkbox","aria-checked":z(u)?"mixed":u,"aria-required":m,"data-state":G(u),"data-disabled":c?"":void 0,disabled:c,value:d,...i,ref:v,onKeyDown:(0,j.composeEventHandlers)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,j.composeEventHandlers)(l,e=>{x(e=>!!z(e)||!e),g&&f&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});L.displayName=S;var T=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:r,checked:n,defaultChecked:l,required:i,disabled:o,value:d,onCheckedChange:c,form:u,...m}=e;return(0,s.jsx)(F,{__scopeCheckbox:a,checked:n,defaultChecked:l,disabled:o,required:i,onCheckedChange:c,name:r,form:u,value:d,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L,{...m,ref:t,__scopeCheckbox:a}),r&&(0,s.jsx)(U,{__scopeCheckbox:a})]})}})});T.displayName=D;var _="CheckboxIndicator",M=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:r,...n}=e,l=A(_,a);return(0,s.jsx)(P.Presence,{present:r||z(l.checked)||!0===l.checked,children:(0,s.jsx)(I.Primitive.span,{"data-state":G(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});M.displayName=_;var B="CheckboxBubbleInput",U=r.forwardRef((e,t)=>{let{__scopeCheckbox:a,...n}=e,{control:l,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:d,required:c,disabled:u,name:m,value:p,form:x,bubbleInput:h,setBubbleInput:f}=A(B,a),g=(0,N.useComposedRefs)(t,f),v=(0,k.usePrevious)(o),y=(0,C.useSize)(l);r.useEffect(()=>{if(!h)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(v!==o&&e){let a=new Event("click",{bubbles:t});h.indeterminate=z(o),e.call(h,!z(o)&&o),h.dispatchEvent(a)}},[h,v,o,i]);let b=r.useRef(!z(o)&&o);return(0,s.jsx)(I.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:b.current,required:c,disabled:u,name:m,value:p,form:x,...n,tabIndex:-1,ref:g,style:{...n.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function z(e){return"indeterminate"===e}function G(e){return z(e)?"indeterminate":e?"checked":"unchecked"}U.displayName=B;var H=e.i(78784),q=e.i(47163);function K(e){let{className:t,...a}=e;return(0,s.jsx)(T,{"data-slot":"checkbox",className:(0,q.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(M,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(H.CheckIcon,{className:"size-3.5"})})})}let V=(0,e.i(25913).cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function W(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,q.cn)(V({variant:a}),t),...r})}function J(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-description",className:(0,q.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...a})}var Y=e.i(84835);function X(e){let{open:t,onClose:a,onSubmit:n}=e,[l,i]=(0,r.useState)(1),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[N,b]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[P,I]=(0,r.useState)([]),[D,O]=(0,r.useState)({fullName:"",email:"",phone:"",otpCode:"",acceptedTerms:!1,nin:"",address:"",state:"",lga:"",bankName:"",accountNumber:"",accountName:""});(0,r.useEffect)(()=>{t&&F()},[t]);let E=(e,t)=>{O(a=>({...a,[e]:t})),C(null)},R=async()=>{if(!D.phone)return void C("Phone number is required");d(!0),C(null);try{await Y.LGAService.sendCode({phone_number:D.phone}),u(!0)}catch(a){var e,t;C((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to send OTP. Please try again.")}finally{d(!1)}},A=async()=>{if(!D.otpCode||6!==D.otpCode.length)return void C("Please enter a valid 6-digit OTP");d(!0),C(null);try{await Y.LGAService.verifyCode({phone_number:D.phone,code:D.otpCode}),b(!0)}catch(a){var e,t;C((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Invalid OTP. Please try again.")}finally{d(!1)}},F=async()=>{try{let e=await Y.LGAService.getBanks();I((null==e?void 0:e.data)||[])}catch(e){console.error("Failed to fetch banks:",e)}},S=async()=>{if(!D.nin||11!==D.nin.length)return void C("Please enter a valid 11-digit NIN");d(!0),C(null);try{let e=await Y.LGAService.verifyNin({nin:D.nin});w(!0),null==e||e.data}catch(a){var e,t;C((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"NIN verification failed. Please check the number and try again.")}finally{d(!1)}},L=async(e,t)=>{var a,s,r,n;d(!0),C(null);try{let r=new FormData;if("passportPhoto"===e){r.append("profile_image",t);let s=await Y.LGAService.uploadProfileImage(r);E(e,(null==s||null==(a=s.data)?void 0:a.url)||(null==s?void 0:s.url))}else if("proofOfAddress"===e){r.append("proof_of_address",t);let a=await Y.LGAService.UploadProofOfAddress(r);E(e,(null==a||null==(s=a.data)?void 0:s.url)||(null==a?void 0:a.url))}}catch(t){C((null==t||null==(n=t.response)||null==(r=n.data)?void 0:r.message)||"Failed to upload ".concat("passportPhoto"===e?"photo":"document",". Please try again."))}finally{d(!1)}},T=async()=>{if(!D.nin||!D.address||!D.state||!D.lga||!D.bankName||!D.accountNumber||!D.accountName)return void C("Please fill in all required fields");if(!j)return void C("Please verify your NIN first");if(10!==D.accountNumber.length)return void C("Account number must be 10 digits");d(!0),C(null);try{let e={fullname:D.fullName,email:D.email||null,phone_number:D.phone,phone_verified:N,nin:D.nin,nin_verified:j,address:D.address,bankId:parseInt(D.bankName),account_name:D.accountName,account_number:D.accountNumber,profile_image:D.passportPhoto||"noimage.jpg",proof_of_address:D.proofOfAddress||"noimage.jpg"};console.log("Submitting farmer data:",e),await Y.LGAService.createFarmer(e),await n(D),_()}catch(a){var e,t;C((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||"Failed to register farmer. Please try again.")}finally{d(!1)}},_=()=>{i(1),u(!1),b(!1),w(!1),C(null),O({fullName:"",email:"",phone:"",otpCode:"",acceptedTerms:!1,nin:"",address:"",state:"",lga:"",bankName:"",accountNumber:"",accountName:""}),a()};return(0,s.jsx)(f.Dialog,{open:t,onOpenChange:_,children:(0,s.jsxs)(f.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(f.DialogHeader,{children:[(0,s.jsx)(f.DialogTitle,{className:"text-2xl font-bold text-gray-900",children:"Register New Farmer"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 ".concat(l>=1?"text-emerald-600":"text-gray-400"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold ".concat(l>=1?"bg-primary text-white":"bg-gray-200 text-gray-600"),children:l>1?(0,s.jsx)(m.default,{className:"w-5 h-5"}):"1"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Basic Details"})]}),(0,s.jsx)("div",{className:"flex-1 h-0.5 bg-gray-200 mx-2",children:(0,s.jsx)("div",{className:"h-full transition-all ".concat(l>=2?"bg-primary w-full":"w-0")})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ".concat(l>=2?"text-emerald-600":"text-gray-400"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold ".concat(l>=2?"bg-primary text-white":"bg-gray-200 text-gray-600"),children:"2"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"KYC Verification"})]})]})]}),k&&(0,s.jsxs)(W,{variant:"destructive",children:[(0,s.jsx)(h.AlertCircle,{className:"h-4 w-4"}),(0,s.jsx)(J,{children:k})]}),1===l&&(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"fullName",children:["Full Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(as on NIN)"})]}),(0,s.jsx)(v.Input,{id:"fullName",placeholder:"Enter full name",value:D.fullName,onChange:e=>E("fullName",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{htmlFor:"email",children:"Email Address (Optional)"}),(0,s.jsx)(v.Input,{id:"email",type:"email",placeholder:"farmer@example.com",value:D.email,onChange:e=>E("email",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"phone",children:["Phone Number ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.Input,{id:"phone",placeholder:"+234 800 000 0000",value:D.phone,onChange:e=>E("phone",e.target.value),disabled:N}),!N&&(0,s.jsx)(g.Button,{onClick:R,disabled:o||!D.phone,variant:"outline",children:o?(0,s.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):c?"Resend OTP":"Send OTP"}),N&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-50 text-emerald-700 rounded-lg",children:[(0,s.jsx)(m.default,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Verified"})]})]})]}),c&&!N&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"otp",children:["Enter OTP ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.Input,{id:"otp",placeholder:"000000",maxLength:6,value:D.otpCode,onChange:e=>E("otpCode",e.target.value.replace(/\D/g,""))}),(0,s.jsx)(g.Button,{onClick:A,disabled:o,children:o?(0,s.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):"Verify"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Enter the 6-digit code sent to your phone/email"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)(K,{id:"terms",checked:D.acceptedTerms,onCheckedChange:e=>E("acceptedTerms",e)}),(0,s.jsx)("div",{className:"space-y-1",children:(0,s.jsxs)(y.Label,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer",children:["I accept the"," ",(0,s.jsx)("a",{href:"#",className:"text-emerald-600 hover:underline",children:"Terms & Conditions"})," ","and"," ",(0,s.jsx)("a",{href:"#",className:"text-emerald-600 hover:underline",children:"Privacy Policy"})]})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,s.jsx)(g.Button,{variant:"outline",onClick:_,children:"Cancel"}),(0,s.jsx)(g.Button,{onClick:()=>D.fullName&&D.phone?N?D.acceptedTerms?void(i(2),C(null)):void C("Please accept the Terms & Conditions"):void C("Please verify your phone number with OTP"):void C("Please fill in all required fields"),disabled:!N||!D.acceptedTerms,className:"bg-primary hover:bg-emerald-700",children:"Continue to KYC"})]})]}),2===l&&(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"nin",children:["National Identification Number (NIN) ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(v.Input,{id:"nin",placeholder:"12345678901",maxLength:11,value:D.nin,onChange:e=>E("nin",e.target.value.replace(/\D/g,"")),disabled:j}),!j&&(0,s.jsx)(g.Button,{onClick:S,disabled:o||!D.nin||11!==D.nin.length,variant:"outline",children:o?(0,s.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):"Verify NIN"}),j&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-50 text-emerald-700 rounded-lg",children:[(0,s.jsx)(m.default,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Verified"})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"We'll validate your identity with NIMC database"})]}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{htmlFor:"passport",children:"Passport Photograph"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-emerald-500 transition-colors cursor-pointer",children:[(0,s.jsx)("input",{type:"file",id:"passport",accept:"image/*",className:"hidden",onChange:e=>{var t;return(null==(t=e.target.files)?void 0:t[0])&&L("passportPhoto",e.target.files[0])}}),(0,s.jsxs)("label",{htmlFor:"passport",className:"cursor-pointer",children:[(0,s.jsx)(x.Upload,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:D.passportPhoto?"Photo uploaded":"Click to upload or drag and drop"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"address",children:["Full Address ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(v.Input,{id:"address",placeholder:"Enter full residential address",value:D.address,onChange:e=>E("address",e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"state",children:["State ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"state",value:D.state,onChange:e=>E("state",e.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,s.jsx)("option",{value:"",children:"Select State"}),["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"lga",children:["LGA ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(v.Input,{id:"lga",placeholder:"Enter LGA",value:D.lga,onChange:e=>E("lga",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{htmlFor:"proofOfAddress",children:"Proof of Address (Optional)"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-emerald-500 transition-colors cursor-pointer",children:[(0,s.jsx)("input",{type:"file",id:"proofOfAddress",accept:"image/*,.pdf",className:"hidden",onChange:e=>{var t;return(null==(t=e.target.files)?void 0:t[0])&&L("proofOfAddress",e.target.files[0])}}),(0,s.jsxs)("label",{htmlFor:"proofOfAddress",className:"cursor-pointer",children:[(0,s.jsx)(x.Upload,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:D.proofOfAddress?"Document uploaded":"Click to upload utility bill or bank statement"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG up to 5MB"})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bank Account Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"bankName",children:["Bank Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"bankName",value:D.bankName,onChange:e=>E("bankName",e.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,s.jsx)("option",{value:"",children:"Select Bank"}),P.map(e=>(0,s.jsx)("option",{value:e.id.toString(),children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"accountNumber",children:["Account Number ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(v.Input,{id:"accountNumber",placeholder:"0123456789",maxLength:10,value:D.accountNumber,onChange:e=>E("accountNumber",e.target.value.replace(/\D/g,""))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(y.Label,{htmlFor:"accountName",children:["Account Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(v.Input,{id:"accountName",placeholder:"Enter account name",value:D.accountName,onChange:e=>E("accountName",e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Must match the name on your bank account"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,s.jsx)(g.Button,{variant:"outline",onClick:()=>i(1),children:"Back"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(g.Button,{variant:"outline",onClick:_,children:"Cancel"}),(0,s.jsx)(g.Button,{onClick:T,disabled:o||!j||!D.address||!D.state||!D.lga||!D.bankName||!D.accountNumber||!D.accountName,className:"bg-primary hover:bg-emerald-700",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin mr-2"}),"Registering..."]}):"Complete Registration"})]})]})]})]})})}}]);